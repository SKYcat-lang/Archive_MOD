BA_all_country_category = {
    BA_join_the_kibotos_alliance = {
		icon = GFX_decision_generic_break_treaty
		ai_will_do = {
			base = 25
			
			modifier = {
				factor = 0.2
				has_government = neutrality
			}
			
			modifier = {
				factor = 1.2
				has_government = SHE
			}
			
			modifier = {
				factor = 0.5
				has_opinion = {
					target = SHE
					value > 65
				}
			}
			
			modifier = {
				factor = 0.4
				has_opinion = {
					target = SHE
					value > 35
				}
			}
			
			modifier = {
				factor = 2.0
				has_opinion = {
					target = SHE
					value < 35
				}
			}
			
			modifier = {
				factor = 2.0
				has_opinion = {
					target = SHE
					value < 65
				}
			}
			
			modifier = {
				factor = 0
				has_opinion = {
					target = SHE
					value > 5
				}
			}
			
			modifier = {
				factor = 0.5
				SHE = {
					has_war = yes
				}
			}
			
			modifier = {
				factor = 0.1
				ROOT = {
					is_major = yes
				}
			}
		}

    	available = {
			is_subject = no
			has_war = no
			OR = {
				has_government = SHE
				has_government = neutrality
			}
    	}
		visible = {
			capital_scope = {
				is_on_continent = europe
			}
			SHE = {
				is_faction_leader = yes
				has_government = democratic
				has_completed_focus = SHE_yurokibotoseuyeonhab
			}
			NOT = { is_ally_with = SHE }
		}
	
		modifier = {
			political_power_factor = -0.15
		}
		
		cost = 100

		days_remove = 35
		remove_effect = {
			SHE = {
				country_event = { id = generic.2 hours = 6 }
			}
		}
	}
    BA_participation_in_economic_cooperation = {
		icon = GFX_decision_generic_wreckers
		ai_will_do = {
			factor = 4000
		}
		visible = {
			is_in_faction_with = SHE
			SHE = {
				has_completed_focus = SHE_yurokibotoseuyeonhab
			}
			NOT = {
				has_idea = SHE_economic_cooperation
			}
		}
		days_remove = 5
		remove_effect = {
			add_ideas = SHE_economic_cooperation
		}
	}
}
BA_kivotos_school_country_category = {
    BA_decisions_me_is_COU_debug = {
		ai_will_do = {
			factor = 0
		}
		visible = {
			always = no
		}
		complete_effect = {
			set_cosmetic_tag = SHE_student_council
		}
	}
    BA_decisions_give_me_the_COU_debug = {
		icon = GFX_decision_eng_trade_unions_support
		ai_will_do = {
			factor = 0
		}
		visible = {
			always = no
		}
		complete_effect = {
			every_country = {
				limit = {
					Kivotos_school_tag = yes
				}
				every_character = {
					limit = { 
						has_trait = SHE_new_dictator	
						can_be_country_leader = yes
					}
					if = {
						limit = { has_ideology = conservatism }
						remove_trait = {
							ideology = conservatism
							trait = SHE_new_dictator
						}
					}
					if = {
						limit = { has_ideology = liberalism }
						remove_trait = {
							ideology = liberalism
							trait = SHE_new_dictator
						}
					}
					if = {
						limit = { has_ideology = socialism }
						remove_trait = {
							ideology = socialism
							trait = SHE_new_dictator
						}
					}
					if = {
						limit = { has_ideology = The_Colour_democratic }
						remove_trait = {
							ideology = The_Colour_democratic
							trait = SHE_new_dictator
						}
					}
					if = {
						limit = { has_ideology = technocracy }
						remove_trait = {
							ideology = technocracy
							trait = SHE_new_dictator
						}
					}

					
					if = {
						limit = { has_ideology = marxism }
						remove_trait = {
							ideology = marxism
							trait = SHE_new_dictator
						}
					}
					if = {
						limit = { has_ideology = leninism }
						remove_trait = {
							ideology = leninism
							trait = SHE_new_dictator
						}
					}
					if = {
						limit = { has_ideology = stalinism }
						remove_trait = {
							ideology = stalinism
							trait = SHE_new_dictator
						}
					}
					if = {
						limit = { has_ideology = anti_revisionism }
						remove_trait = {
							ideology = anti_revisionism
							trait = SHE_new_dictator
						}
					}
					if = {
						limit = { has_ideology = anarchist_communism }
						remove_trait = {
							ideology = anarchist_communism
							trait = SHE_new_dictator
						}
					}
					if = {
						limit = { has_ideology = The_Colour_communism }
						remove_trait = {
							ideology = The_Colour_communism
							trait = SHE_new_dictator
						}
					}

					
					if = {
						limit = { has_ideology = nazism }
						remove_trait = {
							ideology = nazism
							trait = SHE_new_dictator
						}
					}
					if = {
						limit = { has_ideology = gen_nazism }
						remove_trait = {
							ideology = gen_nazism
							trait = SHE_new_dictator
						}
					}
					if = {
						limit = { has_ideology = fascism_ideology }
						remove_trait = {
							ideology = fascism_ideology
							trait = SHE_new_dictator
						}
					}
					if = {
						limit = { has_ideology = pater_nazism }
						remove_trait = {
							ideology = pater_nazism
							trait = SHE_new_dictator
						}
					}
					if = {
						limit = { has_ideology = falangism }
						remove_trait = {
							ideology = falangism
							trait = SHE_new_dictator
						}
					}
					if = {
						limit = { has_ideology = rexism }
						remove_trait = {
							ideology = rexism
							trait = SHE_new_dictator
						}
					}
					if = {
						limit = { has_ideology = fascism_aicontrol }
						remove_trait = {
							ideology = fascism_aicontrol
							trait = SHE_new_dictator
						}
					}
					if = {
						limit = { has_ideology = The_Colour_fascism }
						remove_trait = {
							ideology = The_Colour_fascism
							trait = SHE_new_dictator
						}
					}

					
					if = {
						limit = { has_ideology = despotism }
						remove_trait = {
							ideology = despotism
							trait = SHE_new_dictator
						}
					}
					if = {
						limit = { has_ideology = oligarchism }
						remove_trait = {
							ideology = oligarchism
							trait = SHE_new_dictator
						}
					}
					if = {
						limit = { has_ideology = anarchism }
						remove_trait = {
							ideology = anarchism
							trait = SHE_new_dictator
						}
					}
					if = {
						limit = { has_ideology = moderatism }
						remove_trait = {
							ideology = moderatism
							trait = SHE_new_dictator
						}
					}
					if = {
						limit = { has_ideology = centrism }
						remove_trait = {
							ideology = centrism
							trait = SHE_new_dictator
						}
					}
					if = {
						limit = { has_ideology = aicontrol }
						remove_trait = {
							ideology = aicontrol
							trait = SHE_new_dictator
						}
					}
					if = {
						limit = { has_ideology = emergency_military_government }
						remove_trait = {
							ideology = emergency_military_government
							trait = SHE_new_dictator
						}
					}
					if = {
						limit = { has_ideology = The_Colour_neutrality }
						remove_trait = {
							ideology = The_Colour_neutrality
							trait = SHE_new_dictator
						}
					}
				}
			}
			add_country_leader_trait = SHE_new_dictator
		}
	}
    BA_decisions_give_me_the_COU = {
		icon = GFX_decision_eng_trade_unions_support
		ai_will_do = {
			factor = 4000
		}

    	available = {     
            controls_state = 7
			any_character = {
				NOT = {
					has_trait = SHE_new_dictator
				}
			}
    	}
		visible = { #총학생회 선포는 루트 내 중점으로 따로 만들어라;;
			always = no
		}
		modifier = {
			political_power_factor = -0.15
		}
		
		cost = 120

		days_remove = 20
		remove_effect = {
			every_country = {
				limit = {
					Kivotos_school_tag = yes
				}
				every_character = {
					limit = { 
						has_trait = SHE_new_dictator	
						can_be_country_leader = yes
					}
					if = {
						limit = { has_ideology = conservatism }
						remove_trait = {
							ideology = conservatism
							trait = SHE_new_dictator
						}
					}
					if = {
						limit = { has_ideology = liberalism }
						remove_trait = {
							ideology = liberalism
							trait = SHE_new_dictator
						}
					}
					if = {
						limit = { has_ideology = socialism }
						remove_trait = {
							ideology = socialism
							trait = SHE_new_dictator
						}
					}
					if = {
						limit = { has_ideology = The_Colour_democratic }
						remove_trait = {
							ideology = The_Colour_democratic
							trait = SHE_new_dictator
						}
					}
					if = {
						limit = { has_ideology = technocracy }
						remove_trait = {
							ideology = technocracy
							trait = SHE_new_dictator
						}
					}

					
					if = {
						limit = { has_ideology = marxism }
						remove_trait = {
							ideology = marxism
							trait = SHE_new_dictator
						}
					}
					if = {
						limit = { has_ideology = leninism }
						remove_trait = {
							ideology = leninism
							trait = SHE_new_dictator
						}
					}
					if = {
						limit = { has_ideology = stalinism }
						remove_trait = {
							ideology = stalinism
							trait = SHE_new_dictator
						}
					}
					if = {
						limit = { has_ideology = anti_revisionism }
						remove_trait = {
							ideology = anti_revisionism
							trait = SHE_new_dictator
						}
					}
					if = {
						limit = { has_ideology = anarchist_communism }
						remove_trait = {
							ideology = anarchist_communism
							trait = SHE_new_dictator
						}
					}
					if = {
						limit = { has_ideology = The_Colour_communism }
						remove_trait = {
							ideology = The_Colour_communism
							trait = SHE_new_dictator
						}
					}

					
					if = {
						limit = { has_ideology = nazism }
						remove_trait = {
							ideology = nazism
							trait = SHE_new_dictator
						}
					}
					if = {
						limit = { has_ideology = gen_nazism }
						remove_trait = {
							ideology = gen_nazism
							trait = SHE_new_dictator
						}
					}
					if = {
						limit = { has_ideology = fascism_ideology }
						remove_trait = {
							ideology = fascism_ideology
							trait = SHE_new_dictator
						}
					}
					if = {
						limit = { has_ideology = pater_nazism }
						remove_trait = {
							ideology = pater_nazism
							trait = SHE_new_dictator
						}
					}
					if = {
						limit = { has_ideology = falangism }
						remove_trait = {
							ideology = falangism
							trait = SHE_new_dictator
						}
					}
					if = {
						limit = { has_ideology = rexism }
						remove_trait = {
							ideology = rexism
							trait = SHE_new_dictator
						}
					}
					if = {
						limit = { has_ideology = fascism_aicontrol }
						remove_trait = {
							ideology = fascism_aicontrol
							trait = SHE_new_dictator
						}
					}
					if = {
						limit = { has_ideology = The_Colour_fascism }
						remove_trait = {
							ideology = The_Colour_fascism
							trait = SHE_new_dictator
						}
					}

					
					if = {
						limit = { has_ideology = despotism }
						remove_trait = {
							ideology = despotism
							trait = SHE_new_dictator
						}
					}
					if = {
						limit = { has_ideology = oligarchism }
						remove_trait = {
							ideology = oligarchism
							trait = SHE_new_dictator
						}
					}
					if = {
						limit = { has_ideology = anarchism }
						remove_trait = {
							ideology = anarchism
							trait = SHE_new_dictator
						}
					}
					if = {
						limit = { has_ideology = moderatism }
						remove_trait = {
							ideology = moderatism
							trait = SHE_new_dictator
						}
					}
					if = {
						limit = { has_ideology = centrism }
						remove_trait = {
							ideology = centrism
							trait = SHE_new_dictator
						}
					}
					if = {
						limit = { has_ideology = aicontrol }
						remove_trait = {
							ideology = aicontrol
							trait = SHE_new_dictator
						}
					}
					if = {
						limit = { has_ideology = emergency_military_government }
						remove_trait = {
							ideology = emergency_military_government
							trait = SHE_new_dictator
						}
					}
					if = {
						limit = { has_ideology = The_Colour_neutrality }
						remove_trait = {
							ideology = The_Colour_neutrality
							trait = SHE_new_dictator
						}
					}
				}
			}
			add_country_leader_trait = SHE_new_dictator
		}
	}
    BA_decisions_me_is_COU = {
		icon = GFX_decision_generic_form_nation
		ai_will_do = {
			factor = 0
		}

    	available = {     
            controls_state = 7
    	}
		visible = {
			Kivotos_school_tag = yes
			NOT = {
				has_cosmetic_tag = SHE_student_council
			}
			always = no #총학생회장 선포는 루트 내 중점으로 따로 만들어라;;
		}
	
		modifier = {
			political_power_factor = -0.5
		}
		
		cost = 300

		days_remove = 50
		remove_effect = {
			set_cosmetic_tag = SHE_student_council
		}
	}
    BA_police_academy_reconnection = {

		icon = GFX_decision_eng_trade_unions_support

		ai_will_do = {
			factor = 4000
		}

		cost = 75

		visible = {
			tag = global.kivotos_alliance_leader
			KSP = { has_idea = KSP_duties_of_the_police_academy }
		}

		available = {
			KSP = {
				has_idea = KSP_duties_of_the_police_academy
				NOT = { is_in_faction_with = global.kivotos_alliance_leader }
			}
		}

		complete_effect = {
			add_to_faction = KSP
			KSP = { country_event = { id = COU_kivotos_alliance.4 hours = 8 } }
		}
	}
    BA_decisions_kivotos_public_bond = {
		priority = 10

		icon = GFX_decision_eng_propaganda_campaigns

		ai_will_do = {
			factor = 1
			modifier = {
				political_power_daily > 1.0
				factor = 5.0
			}
			modifier = {
				political_power_daily > 1.5
				factor = 10.0
			}
			modifier = {
				political_power_daily > 2.0
				factor = 30.0
			}
		}

		cost = 50

		days_remove = 120

		visible = {
			tag = global.kivotos_alliance_leader
			NOT = { has_global_flag = end_of_the_kivotos_alliance }
		}

		available = {
			political_power_daily > 0
		}

		cancel_trigger = {
			has_political_power < 1
		}

		modifier = {
			consumer_goods_factor = -0.15
			political_power_cost = 0.25
		}
	}
    BA_decisions_federal_railway_project = {
		priority = 10

		icon = GFX_decision_generic_construction

		ai_will_do = {
			factor = 1
			modifier = {
				political_power_daily > 1.0
				factor = 5.0
			}
			modifier = {
				political_power_daily > 1.5
				factor = 10.0
			}
			modifier = {
				political_power_daily > 2.0
				factor = 30.0
			}
		}

		days_remove = 70

		days_re_enable = 85

		visible = {
			tag = global.kivotos_alliance_leader
			NOT = { has_global_flag = end_of_the_kivotos_alliance }
			any_country = {
				is_in_array = {
					array = global.kivotos_alliance
					value = FROM
				}
				has_idea = BA_railway_gauge_issue
			}
		}

		modifier = {
			consumer_goods_factor = 0.15
			political_power_gain = 0.25
		}

		complete_effect = {
			modify_timed_idea = {
				idea = BA_railway_gauge_issue
				days = -120
			}
		}

		remove_effect = {
			every_country = {
				limit = {
					is_in_array = {
						array = global.kivotos_alliance
						value = FROM
					}
					has_idea = BA_railway_gauge_issue
				}
				modify_timed_idea = {
					idea = BA_railway_gauge_issue
					days = -280
				}
			}
		}
	}
    BA_decisions_investment_in_student_council = {
		priority = 10

		icon = GFX_decision_generic_construction

		ai_will_do = {
			factor = 40
			modifier = {
				has_government = democratic
				factor = 2.0
			}
			modifier = {
				has_government = communism
				factor = 0.5
			}
			modifier = {
				has_government = fascism
				factor = 0.3
			}
			modifier = {
				num_of_civilian_factories_available_for_projects > 15
				factor = 2.5
			}
			modifier = {
				num_of_civilian_factories_available_for_projects < 10
				factor = 0.5
			}
			modifier = {
				num_of_civilian_factories_available_for_projects < 5
				factor = 0.5
			}
		}

		cost = 50

		days_remove = 120

		visible = {
			NOT = { tag = global.kivotos_alliance_leader }
			is_in_array = {
				array = global.kivotos_alliance
				value = THIS
			}
			NOT = { has_global_flag = end_of_the_kivotos_alliance }
		}

		available = {
			num_of_civilian_factories_available_for_projects > 1
			NOT = { has_war_with = global.kivotos_alliance }
		}

		complete_effect = {
			var:global.kivotos_alliance_leader = {
				if = { limit = { has_idea = COU_investment_in_kivotos }
					modify_timed_idea = {
						idea = COU_investment_in_kivotos
						days = 120
					}
				}
				else = {
					add_timed_idea = {
						idea = COU_investment_in_kivotos
						days = 120
					}
				}
				if = { limit = { has_idea = BA_railway_gauge_issue }
					modify_timed_idea = {
						idea = BA_railway_gauge_issue
						days = -120
					}
				}
			}
			if = { limit = { has_idea = BA_railway_gauge_issue }
				modify_timed_idea = {
					idea = BA_railway_gauge_issue
					days = -120
				}
			}
		}

		modifier = {
			civilian_factory_use = 2
			production_speed_buildings_factor = 0.10
		}
	}
    BA_decisions_withdrawal_from_cooperation_organization = {

		icon = GFX_decision_oppression

		ai_will_do = {
			factor = 40
			modifier = {
				var:global.kivotos_alliance_leader = {
					NOT = {
						has_government = communism
					}
				}
				has_government = communism
				factor = 1.2
			}
			modifier = {
				var:global.kivotos_alliance_leader = {
					NOT = {
						has_government = fascism
					}
				}
				has_government = fascism
				factor = 2.5
			}
			modifier = {
				has_government = var:global.kivotos_alliance_leader
				factor = 0
			}
		}

		cost = 100

		visible = {
			NOT = { tag = global.kivotos_alliance_leader }
			is_in_array = {
				array = global.kivotos_alliance
				value = THIS
			}
			NOT = { has_global_flag = end_of_the_kivotos_alliance }
		}

		available = {
			OR = {
				threat > 0.25
				has_war_with = var:global.kivotos_alliance_leader
			}
		}

		complete_effect = {
			if = {
				limit =  {
					is_in_array = {
						array = global.kivotos_alliance
						value = ROOT
					}
				}
				custom_effect_tooltip = BA_kivotos_alliance_remove_to_ROOT
				remove_from_array = {
					array = global.kivotos_alliance
					value = ROOT
				}
				if = { 
					limit = { 
						is_in_faction_with = global.kivotos_alliance_leader 
						is_faction_leader = no 
					}
					leave_faction = yes
				}
				if = { 
					limit = { 
						is_in_faction_with = global.kivotos_alliance_leader 
						is_faction_leader = yes 
					}
					remove_from_faction = global.kivotos_alliance_leader
				}
				news_event = { id = BA_news.87  hours = 12 }
			}
		}
	}
	BA_decisions_goverment_target = {

		icon = generic_political_rally

		target_array = global.kivotos_alliance
		
		ai_will_do = {
			base = 25
		}

		allowed = {
		}

		available = {
			threat > 0.15
			FROM = {
				NOT = {
					has_idea = democratic_influence_weak
					has_idea = fascist_influence_weak
					has_idea = neutrality_influence_weak
					has_idea = communist_influence_weak
				}
			}
		}

		visible = {
			ROOT = {
				tag = global.kivotos_alliance_leader
			}
			FROM = {
				NOT = { tag = ROOT }
				has_added_tension_amount > 5
			}
			NOT = { has_global_flag = end_of_the_kivotos_alliance }
		}

		cost = 25

		complete_effect = {
			FROM = {
				if = { limit = { NOT = { has_government = ROOT } }
					add_opinion_modifier = { target = ROOT modifier = medium_decrease }
				}
				if = { limit = { ROOT = { has_government = democratic } }
					add_timed_idea = { idea = democratic_influence_weak days = 365 }
				}
				else_if = { limit = { ROOT = { has_government = fascism } }
					add_timed_idea = { idea = fascist_influence_weak days = 365 }
				}
				else_if = { limit = { ROOT = { has_government = neutrality } }
					add_timed_idea = { idea = neutrality_influence_weak days = 365 }
				}
				else_if = { limit = { ROOT = { has_government = communism } }
					add_timed_idea = { idea = communist_influence_weak days = 365 }
				}
				country_event = { id = generic.1 }
			}
		}
	}
	BA_decisions_defensive_war_target = {

		icon = GFX_decision_infiltrate_state
		
		ai_will_do = {
			base = 5
			modifier = {
				factor = 40
				has_added_tension_amount > 25
			}
		}

		allowed = {
		}

		available = {
			threat > 0.25
		}

		visible = {
			event_target:BA_decisions_defensive_war_target_FROM = {
				NOT = {
					has_war_with = ROOT
				}
			}
			NOT = { has_global_flag = end_of_the_kivotos_alliance }
		}

		target_trigger = {
			ROOT = {
				tag = global.kivotos_alliance_leader
			}
			NOT = {
				is_in_array = {
					array = global.kivotos_alliance
					value = FROM
				}
			}
			FROM = {
				OR = {
					is_in_faction = no
					is_faction_leader = yes
				}
				any_enemy_country = {
					FROM = {
						is_in_array = {
							array = global.kivotos_alliance
							value = PREV
						}
					}
				}
				has_added_tension_amount > 5
			}
		}

		cost = 25

		complete_effect = {
			add_ideas = COU_direct_support
			every_country = {
				limit = {
					has_war_with = FROM
					is_in_array = {
						array = global.kivotos_alliance
						value = PREV
					}
				}
				add_war_support = 0.02
				save_global_event_target_as = BA_decisions_defensive_war_target_COUNTRY
			}
			FROM = {
				save_global_event_target_as = BA_decisions_defensive_war_target_FROM
			}

			for_each_scope_loop = {
				array = global.kivotos_alliance
				country_event = { id = COU_kivotos_alliance.1 hours = 12 random_hours = 8 }
			}

			event_target:BA_decisions_defensive_war_target_COUNTRY = {
				ROOT = {
					add_ai_strategy = {
						type = send_volunteers_desire
						id = PREV
						value = 500
					}
					add_ai_strategy = {
						type = send_lend_lease_desire
						id = PREV
						value = 1000
					}
				}
			}
		}
	}
	BA_decisions_defensive_join_target = {

		icon = GFX_decision_eng_trade_unions_support
		
		ai_will_do = {
			base = 40
			modifier = {
				FROM = { has_government = ROOT }
				factor = 1000
			}
		}

		allowed = {
		}

		available = {
			threat > 0.25
		}

		visible = {
			ROOT = {
				is_faction_leader = yes
				has_country_flag = BA_decisions_defensive_join_target_flag
			}
			NOT = { has_global_flag = end_of_the_kivotos_alliance }
		}

		target_trigger = {
			ROOT = {
				tag = global.kivotos_alliance_leader
			}
			FROM = {
				is_in_array = {
					array = global.kivotos_alliance
					value = PREV
				}
				has_rule = can_join_factions
				is_puppet = no
				exists = yes
			}
		}

		fire_only_once = yes

		cost = 25

		complete_effect = {
			FROM = {
				country_event = { id = generic.5 hours = 8 }
			}
		}
	}
    BA_cooperative_treaty_ratification_dec = {

		icon = GFX_decision_oppression

		ai_will_do = {
			factor = 200
		}

		cost = 100

		visible = {
			NOT = { tag = global.kivotos_alliance_leader }
			has_idea = COU_cooperative_treaty_ratification
			NOT = { has_global_flag = end_of_the_kivotos_alliance }
		}

		available = {
			if = {
				limit = { 
					has_country_flag = COU_cooperative_treaty_ratification_fascism_flag
				}
				NOT = {
					has_government = fascism
				}
			}
			else_if = {
				limit = { 
					has_country_flag = COU_cooperative_treaty_ratification_communism_flag
				}
				NOT = {
					has_government = communism
				}
			}
			else_if = {
				limit = { 
					has_country_flag = COU_cooperative_treaty_ratification_democratic_flag
				}
				NOT = {
					has_government = democratic
				}
			}
			else_if = {
				limit = { 
					has_country_flag = COU_cooperative_treaty_ratification_neutrality_flag
				}
				NOT = {
					has_government = neutrality
				}
			}
		}

		complete_effect = {
			remove_ideas = COU_cooperative_treaty_ratification
		}
	}
}
economy_decisions = {
    BA_decisions_railway_improvement = {
		icon = GFX_decision_generic_construction
		ai_will_do = {
			factor = 4000
		}

    	available = {
    	}
		visible = {
			has_idea = BA_railway_gauge_issue
		}
		
		cost = 15

		days_remove = 70

		days_re_enable = 70

		modifier = {
			consumer_goods_factor = 0.05
		}

		remove_effect = {
			modify_timed_idea = {
				idea = BA_railway_gauge_issue
				days = -365
			}
		}
	}
}