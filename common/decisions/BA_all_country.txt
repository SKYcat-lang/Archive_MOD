BA_all_country_category = {
    BA_join_the_kibotos_alliance = {
		icon = GFX_decision_generic_break_treaty
		ai_will_do = {
			base = 25
			
			modifier = {
				factor = 0.2
				has_government = neutrality
			}
			
			modifier = {
				factor = 1.2
				has_government = SHE
			}
			
			modifier = {
				factor = 0.5
				has_opinion = {
					target = SHE
					value > 65
				}
			}
			
			modifier = {
				factor = 0.4
				has_opinion = {
					target = SHE
					value > 35
				}
			}
			
			modifier = {
				factor = 2.0
				has_opinion = {
					target = SHE
					value < 35
				}
			}
			
			modifier = {
				factor = 2.0
				has_opinion = {
					target = SHE
					value < 65
				}
			}
			
			modifier = {
				factor = 0
				has_opinion = {
					target = SHE
					value > 5
				}
			}
			
			modifier = {
				factor = 0.5
				SHE = {
					has_war = yes
				}
			}
			
			modifier = {
				factor = 0.1
				ROOT = {
					is_major = yes
				}
			}
		}

    	available = {
			is_subject = no
			has_war = no
			OR = {
				has_government = SHE
				has_government = neutrality
			}
    	}
		visible = {
			capital_scope = {
				is_on_continent = europe
			}
			SHE = {
				is_faction_leader = yes
				has_government = democratic
				has_completed_focus = SHE_yurokibotoseuyeonhab
			}
			NOT = { is_ally_with = SHE }
		}
	
		modifier = {
			political_power_factor = -0.15
		}
		
		cost = 100

		days_remove = 35
		remove_effect = {
			SHE = {
				country_event = { id = generic.2 hours = 6 }
			}
		}
	}
    BA_participation_in_economic_cooperation = {
		icon = GFX_decision_generic_wreckers
		ai_will_do = {
			factor = 4000
		}
		visible = {
			is_in_faction_with = SHE
			SHE = {
				has_completed_focus = SHE_yurokibotoseuyeonhab
			}
			NOT = {
				has_idea = SHE_economic_cooperation
			}
		}
		days_remove = 5
		remove_effect = {
			add_ideas = SHE_economic_cooperation
		}
	}
}
BA_kivotos_school_country_category = {
    BA_decisions_me_is_COU_debug = {
		ai_will_do = {
			factor = 0
		}
		visible = {
			always = no
		}
		complete_effect = {
			set_cosmetic_tag = SHE_student_council
		}
	}
    BA_decisions_give_me_the_COU_debug = {
		icon = GFX_decision_eng_trade_unions_support
		ai_will_do = {
			factor = 0
		}
		visible = {
			always = no
		}
		complete_effect = {
			every_country = {
				limit = {
					Kivotos_school_tag = yes
				}
				every_character = {
					limit = { 
						has_trait = SHE_new_dictator	
						can_be_country_leader = yes
					}
					if = {
						limit = { has_ideology = conservatism }
						remove_trait = {
							ideology = conservatism
							trait = SHE_new_dictator
						}
					}
					if = {
						limit = { has_ideology = liberalism }
						remove_trait = {
							ideology = liberalism
							trait = SHE_new_dictator
						}
					}
					if = {
						limit = { has_ideology = socialism }
						remove_trait = {
							ideology = socialism
							trait = SHE_new_dictator
						}
					}
					if = {
						limit = { has_ideology = The_Colour_democratic }
						remove_trait = {
							ideology = The_Colour_democratic
							trait = SHE_new_dictator
						}
					}
					if = {
						limit = { has_ideology = technocracy }
						remove_trait = {
							ideology = technocracy
							trait = SHE_new_dictator
						}
					}

					
					if = {
						limit = { has_ideology = marxism }
						remove_trait = {
							ideology = marxism
							trait = SHE_new_dictator
						}
					}
					if = {
						limit = { has_ideology = leninism }
						remove_trait = {
							ideology = leninism
							trait = SHE_new_dictator
						}
					}
					if = {
						limit = { has_ideology = stalinism }
						remove_trait = {
							ideology = stalinism
							trait = SHE_new_dictator
						}
					}
					if = {
						limit = { has_ideology = anti_revisionism }
						remove_trait = {
							ideology = anti_revisionism
							trait = SHE_new_dictator
						}
					}
					if = {
						limit = { has_ideology = anarchist_communism }
						remove_trait = {
							ideology = anarchist_communism
							trait = SHE_new_dictator
						}
					}
					if = {
						limit = { has_ideology = The_Colour_communism }
						remove_trait = {
							ideology = The_Colour_communism
							trait = SHE_new_dictator
						}
					}

					
					if = {
						limit = { has_ideology = nazism }
						remove_trait = {
							ideology = nazism
							trait = SHE_new_dictator
						}
					}
					if = {
						limit = { has_ideology = gen_nazism }
						remove_trait = {
							ideology = gen_nazism
							trait = SHE_new_dictator
						}
					}
					if = {
						limit = { has_ideology = fascism_ideology }
						remove_trait = {
							ideology = fascism_ideology
							trait = SHE_new_dictator
						}
					}
					if = {
						limit = { has_ideology = pater_nazism }
						remove_trait = {
							ideology = pater_nazism
							trait = SHE_new_dictator
						}
					}
					if = {
						limit = { has_ideology = falangism }
						remove_trait = {
							ideology = falangism
							trait = SHE_new_dictator
						}
					}
					if = {
						limit = { has_ideology = rexism }
						remove_trait = {
							ideology = rexism
							trait = SHE_new_dictator
						}
					}
					if = {
						limit = { has_ideology = fascism_aicontrol }
						remove_trait = {
							ideology = fascism_aicontrol
							trait = SHE_new_dictator
						}
					}
					if = {
						limit = { has_ideology = The_Colour_fascism }
						remove_trait = {
							ideology = The_Colour_fascism
							trait = SHE_new_dictator
						}
					}

					
					if = {
						limit = { has_ideology = despotism }
						remove_trait = {
							ideology = despotism
							trait = SHE_new_dictator
						}
					}
					if = {
						limit = { has_ideology = oligarchism }
						remove_trait = {
							ideology = oligarchism
							trait = SHE_new_dictator
						}
					}
					if = {
						limit = { has_ideology = anarchism }
						remove_trait = {
							ideology = anarchism
							trait = SHE_new_dictator
						}
					}
					if = {
						limit = { has_ideology = moderatism }
						remove_trait = {
							ideology = moderatism
							trait = SHE_new_dictator
						}
					}
					if = {
						limit = { has_ideology = centrism }
						remove_trait = {
							ideology = centrism
							trait = SHE_new_dictator
						}
					}
					if = {
						limit = { has_ideology = aicontrol }
						remove_trait = {
							ideology = aicontrol
							trait = SHE_new_dictator
						}
					}
					if = {
						limit = { has_ideology = emergency_military_government }
						remove_trait = {
							ideology = emergency_military_government
							trait = SHE_new_dictator
						}
					}
					if = {
						limit = { has_ideology = The_Colour_neutrality }
						remove_trait = {
							ideology = The_Colour_neutrality
							trait = SHE_new_dictator
						}
					}
				}
			}
			add_country_leader_trait = SHE_new_dictator
		}
	}
    BA_decisions_give_me_the_COU = {
		icon = GFX_decision_eng_trade_unions_support
		ai_will_do = {
			factor = 4000
		}

    	available = {     
            controls_state = 7
			any_character = {
				NOT = {
					has_trait = SHE_new_dictator
				}
			}
    	}
		visible = { #총학생회 선포는 루트 내 중점으로 따로 만들어라;;
			always = no
		}
		modifier = {
			political_power_factor = -0.15
		}
		
		cost = 120

		days_remove = 20
		remove_effect = {
			every_country = {
				limit = {
					Kivotos_school_tag = yes
				}
				every_character = {
					limit = { 
						has_trait = SHE_new_dictator	
						can_be_country_leader = yes
					}
					if = {
						limit = { has_ideology = conservatism }
						remove_trait = {
							ideology = conservatism
							trait = SHE_new_dictator
						}
					}
					if = {
						limit = { has_ideology = liberalism }
						remove_trait = {
							ideology = liberalism
							trait = SHE_new_dictator
						}
					}
					if = {
						limit = { has_ideology = socialism }
						remove_trait = {
							ideology = socialism
							trait = SHE_new_dictator
						}
					}
					if = {
						limit = { has_ideology = The_Colour_democratic }
						remove_trait = {
							ideology = The_Colour_democratic
							trait = SHE_new_dictator
						}
					}
					if = {
						limit = { has_ideology = technocracy }
						remove_trait = {
							ideology = technocracy
							trait = SHE_new_dictator
						}
					}

					
					if = {
						limit = { has_ideology = marxism }
						remove_trait = {
							ideology = marxism
							trait = SHE_new_dictator
						}
					}
					if = {
						limit = { has_ideology = leninism }
						remove_trait = {
							ideology = leninism
							trait = SHE_new_dictator
						}
					}
					if = {
						limit = { has_ideology = stalinism }
						remove_trait = {
							ideology = stalinism
							trait = SHE_new_dictator
						}
					}
					if = {
						limit = { has_ideology = anti_revisionism }
						remove_trait = {
							ideology = anti_revisionism
							trait = SHE_new_dictator
						}
					}
					if = {
						limit = { has_ideology = anarchist_communism }
						remove_trait = {
							ideology = anarchist_communism
							trait = SHE_new_dictator
						}
					}
					if = {
						limit = { has_ideology = The_Colour_communism }
						remove_trait = {
							ideology = The_Colour_communism
							trait = SHE_new_dictator
						}
					}

					
					if = {
						limit = { has_ideology = nazism }
						remove_trait = {
							ideology = nazism
							trait = SHE_new_dictator
						}
					}
					if = {
						limit = { has_ideology = gen_nazism }
						remove_trait = {
							ideology = gen_nazism
							trait = SHE_new_dictator
						}
					}
					if = {
						limit = { has_ideology = fascism_ideology }
						remove_trait = {
							ideology = fascism_ideology
							trait = SHE_new_dictator
						}
					}
					if = {
						limit = { has_ideology = pater_nazism }
						remove_trait = {
							ideology = pater_nazism
							trait = SHE_new_dictator
						}
					}
					if = {
						limit = { has_ideology = falangism }
						remove_trait = {
							ideology = falangism
							trait = SHE_new_dictator
						}
					}
					if = {
						limit = { has_ideology = rexism }
						remove_trait = {
							ideology = rexism
							trait = SHE_new_dictator
						}
					}
					if = {
						limit = { has_ideology = fascism_aicontrol }
						remove_trait = {
							ideology = fascism_aicontrol
							trait = SHE_new_dictator
						}
					}
					if = {
						limit = { has_ideology = The_Colour_fascism }
						remove_trait = {
							ideology = The_Colour_fascism
							trait = SHE_new_dictator
						}
					}

					
					if = {
						limit = { has_ideology = despotism }
						remove_trait = {
							ideology = despotism
							trait = SHE_new_dictator
						}
					}
					if = {
						limit = { has_ideology = oligarchism }
						remove_trait = {
							ideology = oligarchism
							trait = SHE_new_dictator
						}
					}
					if = {
						limit = { has_ideology = anarchism }
						remove_trait = {
							ideology = anarchism
							trait = SHE_new_dictator
						}
					}
					if = {
						limit = { has_ideology = moderatism }
						remove_trait = {
							ideology = moderatism
							trait = SHE_new_dictator
						}
					}
					if = {
						limit = { has_ideology = centrism }
						remove_trait = {
							ideology = centrism
							trait = SHE_new_dictator
						}
					}
					if = {
						limit = { has_ideology = aicontrol }
						remove_trait = {
							ideology = aicontrol
							trait = SHE_new_dictator
						}
					}
					if = {
						limit = { has_ideology = emergency_military_government }
						remove_trait = {
							ideology = emergency_military_government
							trait = SHE_new_dictator
						}
					}
					if = {
						limit = { has_ideology = The_Colour_neutrality }
						remove_trait = {
							ideology = The_Colour_neutrality
							trait = SHE_new_dictator
						}
					}
				}
			}
			add_country_leader_trait = SHE_new_dictator
		}
	}
    BA_decisions_me_is_COU = {
		icon = GFX_decision_generic_form_nation
		ai_will_do = {
			factor = 0
		}

    	available = {     
            controls_state = 7
    	}
		visible = {
			Kivotos_school_tag = yes
			NOT = {
				has_cosmetic_tag = SHE_student_council
			}
			always = no #총학생회장 선포는 루트 내 중점으로 따로 만들어라;;
		}
	
		modifier = {
			political_power_factor = -0.5
		}
		
		cost = 300

		days_remove = 50
		remove_effect = {
			set_cosmetic_tag = SHE_student_council
		}
	}
    BA_police_academy_reconnection = {

		icon = GFX_decision_eng_trade_unions_support

		ai_will_do = {
			factor = 4000
		}

		cost = 75

		visible = {
			tag = global.kivotos_alliance_leader
			KSP = { has_idea = KSP_duties_of_the_police_academy }
		}

		available = {
			KSP = {
				has_idea = KSP_duties_of_the_police_academy
				NOT = { is_in_faction_with = global.kivotos_alliance_leader }
			}
			is_in_faction = yes
		}

		complete_effect = {
			if = {
				limit = { KSP = { is_in_faction = yes } }
				KSP = { leave_faction = yes }
			}
			faction_leader = { add_to_faction = KSP }
			KSP = { country_event = { id = COU_kivotos_alliance.4 hours = 8 } }
		}
	}
    BA_police_academy_kick = {

		icon = GFX_decision_oppression

		ai_will_do = {
			factor = 0
		}

		cost = 100

		visible = {
			tag = global.kivotos_alliance_leader
			KSP = { has_idea = KSP_duties_of_the_police_academy }
			threat > 0.50
		}

		available = {
			KSP = {
				has_idea = KSP_duties_of_the_police_academy
			}
			threat > 0.75
		}

		complete_effect = {
			KSP = {
				if = {
					limit = { KSP = { is_in_faction_with = ROOT } }
					leave_faction = yes
				}
				remove_ideas = KSP_duties_of_the_police_academy
			}
		}
	}
    BA_decisions_kivotos_public_bond = {
		priority = 10

		icon = GFX_decision_eng_propaganda_campaigns

		ai_will_do = {
			factor = 1
			modifier = {
				political_power_daily > 1.0
				factor = 5.0
			}
			modifier = {
				political_power_daily > 1.5
				factor = 10.0
			}
			modifier = {
				political_power_daily > 2.0
				factor = 30.0
			}
		}

		cost = 50

		days_remove = 120

		visible = {
			tag = global.kivotos_alliance_leader
			NOT = { has_global_flag = end_of_the_kivotos_alliance }
		}

		available = {
			political_power_daily > 0
		}

		cancel_trigger = {
			has_political_power < 1
		}

		modifier = {
			consumer_goods_factor = -0.15
			political_power_cost = 0.25
		}
	}
    BA_decisions_federal_railway_project = {
		priority = 10

		icon = GFX_decision_generic_construction

		ai_will_do = {
			factor = 1
			modifier = {
				political_power_daily > 1.0
				factor = 5.0
			}
			modifier = {
				political_power_daily > 1.5
				factor = 10.0
			}
			modifier = {
				political_power_daily > 2.0
				factor = 30.0
			}
		}

		days_remove = 70

		days_re_enable = 85

		visible = {
			tag = global.kivotos_alliance_leader
			NOT = { has_global_flag = end_of_the_kivotos_alliance }
			any_country = {
				is_in_array = {
					array = global.kivotos_alliance
					value = FROM
				}
				has_idea = BA_railway_gauge_issue
			}
		}

		modifier = {
			consumer_goods_factor = 0.15
			political_power_gain = 0.25
		}

		complete_effect = {
			modify_timed_idea = {
				idea = BA_railway_gauge_issue
				days = -120
			}
		}

		remove_effect = {
			every_country = {
				limit = {
					is_in_array = {
						array = global.kivotos_alliance
						value = FROM
					}
					has_idea = BA_railway_gauge_issue
				}
				modify_timed_idea = {
					idea = BA_railway_gauge_issue
					days = -280
				}
			}
		}
	}
    BA_decisions_investment_in_student_council = {
		priority = 10

		icon = GFX_decision_generic_construction

		ai_will_do = {
			factor = 40
			modifier = {
				has_government = democratic
				factor = 2.0
			}
			modifier = {
				has_government = communism
				factor = 0.5
			}
			modifier = {
				has_government = fascism
				factor = 0.3
			}
			modifier = {
				num_of_civilian_factories_available_for_projects > 15
				factor = 2.5
			}
			modifier = {
				num_of_civilian_factories_available_for_projects < 10
				factor = 0.5
			}
			modifier = {
				num_of_civilian_factories_available_for_projects < 5
				factor = 0.5
			}
		}

		cost = 50

		days_remove = 120

		visible = {
			NOT = { tag = global.kivotos_alliance_leader }
			is_in_array = {
				array = global.kivotos_alliance
				value = THIS
			}
			NOT = { has_global_flag = end_of_the_kivotos_alliance }
		}

		available = {
			num_of_civilian_factories_available_for_projects > 1
			NOT = { has_war_with = global.kivotos_alliance }
		}

		complete_effect = {
			var:global.kivotos_alliance_leader = {
				if = { limit = { has_idea = COU_investment_in_kivotos }
					modify_timed_idea = {
						idea = COU_investment_in_kivotos
						days = 120
					}
				}
				else = {
					add_timed_idea = {
						idea = COU_investment_in_kivotos
						days = 120
					}
				}
				if = { limit = { has_idea = BA_railway_gauge_issue }
					modify_timed_idea = {
						idea = BA_railway_gauge_issue
						days = -120
					}
				}
			}
			if = { limit = { has_idea = BA_railway_gauge_issue }
				modify_timed_idea = {
					idea = BA_railway_gauge_issue
					days = -120
				}
			}
		}

		modifier = {
			civilian_factory_use = 2
			production_speed_buildings_factor = 0.10
		}
	}
    BA_decisions_withdrawal_from_cooperation_organization = {

		icon = GFX_decision_oppression

		ai_will_do = {
			factor = 40
			modifier = {
				var:global.kivotos_alliance_leader = {
					NOT = {
						has_government = communism
					}
				}
				has_government = communism
				factor = 1.2
			}
			modifier = {
				var:global.kivotos_alliance_leader = {
					NOT = {
						has_government = fascism
					}
				}
				has_government = fascism
				factor = 2.5
			}
			modifier = {
				has_government = var:global.kivotos_alliance_leader
				factor = 0
			}
		}

		cost = 100

		visible = {
			NOT = { tag = global.kivotos_alliance_leader }
			is_in_array = {
				array = global.kivotos_alliance
				value = THIS
			}
			NOT = { has_global_flag = end_of_the_kivotos_alliance }
		}

		available = {
			hidden_trigger = {
				NOT = { tag = global.kivotos_alliance_leader }
				is_in_array = {
					array = global.kivotos_alliance
					value = THIS
				}
				NOT = { has_global_flag = end_of_the_kivotos_alliance }
			}
			NOT = { is_in_faction_with = var:global.kivotos_alliance_leader }
			OR = {
				threat > 0.25
				has_war_with = var:global.kivotos_alliance_leader
			}
			if = {
				limit = { original_tag = KSP }
				NOT = { has_idea = KSP_duties_of_the_police_academy }
			}
		}

		complete_effect = {
			custom_effect_tooltip = BA_kivotos_alliance_remove_to_ROOT
			remove_from_array = {
				array = global.kivotos_alliance
				value = ROOT
			}
			if = { 
				limit = { 
					is_in_faction_with = global.kivotos_alliance_leader 
					is_faction_leader = no 
				}
				leave_faction = yes
			}
			if = { 
				limit = { 
					is_in_faction_with = global.kivotos_alliance_leader 
					is_faction_leader = yes 
				}
				remove_from_faction = global.kivotos_alliance_leader
			}
			news_event = { id = BA_news.87  hours = 12 }
		}
	}
	BA_decisions_goverment_target = {

		icon = generic_political_rally

		target_array = global.kivotos_alliance
		
		ai_will_do = {
			base = 25
		}

		allowed = {
		}

		available = {
			threat > 0.15
			FROM = {
				NOT = {
					has_idea = democratic_influence_weak
					has_idea = fascist_influence_weak
					has_idea = neutrality_influence_weak
					has_idea = communist_influence_weak
				}
			}
		}

		visible = {
			ROOT = {
				tag = global.kivotos_alliance_leader
			}
			FROM = {
				NOT = { tag = ROOT }
				has_added_tension_amount > 5
			}
			NOT = { has_global_flag = end_of_the_kivotos_alliance }
		}

		cost = 25

		complete_effect = {
			FROM = {
				if = { limit = { NOT = { has_government = ROOT } }
					add_opinion_modifier = { target = ROOT modifier = medium_decrease }
				}
				if = { limit = { ROOT = { has_government = democratic } }
					add_timed_idea = { idea = democratic_influence_weak days = 365 }
				}
				else_if = { limit = { ROOT = { has_government = fascism } }
					add_timed_idea = { idea = fascist_influence_weak days = 365 }
				}
				else_if = { limit = { ROOT = { has_government = neutrality } }
					add_timed_idea = { idea = neutrality_influence_weak days = 365 }
				}
				else_if = { limit = { ROOT = { has_government = communism } }
					add_timed_idea = { idea = communist_influence_weak days = 365 }
				}
				country_event = { id = generic.1 }
			}
		}
	}
	BA_decisions_defensive_war_target = {

		icon = GFX_decision_infiltrate_state
		
		ai_will_do = {
			base = 5
			modifier = {
				factor = 40
				has_added_tension_amount > 25
			}
		}

		allowed = {
		}

		available = {
			threat > 0.25
			NOT = {
				has_idea = COU_direct_support
			}
		}

		visible = {
			event_target:BA_decisions_defensive_war_target_FROM = {
				NOT = {
					has_war_with = ROOT
				}
			}
			NOT = { has_global_flag = end_of_the_kivotos_alliance }
		}

		target_trigger = {
			ROOT = {
				tag = global.kivotos_alliance_leader
			}
			NOT = {
				is_in_array = {
					array = global.kivotos_alliance
					value = FROM
				}
			}
			FROM = {
				OR = {
					is_in_faction = no
					is_faction_leader = yes
				}
				any_enemy_country = {
					FROM = {
						is_in_array = {
							array = global.kivotos_alliance
							value = PREV
						}
					}
				}
				has_added_tension_amount > 5
			}
		}

		cost = 25

		complete_effect = {
			add_ideas = COU_direct_support
			every_country = {
				limit = {
					has_war_with = FROM
					is_in_array = {
						array = global.kivotos_alliance
						value = PREV
					}
				}
				add_war_support = 0.02
				save_global_event_target_as = BA_decisions_defensive_war_target_COUNTRY
			}
			FROM = {
				save_global_event_target_as = BA_decisions_defensive_war_target_FROM
			}

			for_each_scope_loop = {
				array = global.kivotos_alliance
				country_event = { id = COU_kivotos_alliance.1 hours = 12 random_hours = 8 }
			}

			event_target:BA_decisions_defensive_war_target_COUNTRY = {
				ROOT = {
					add_ai_strategy = {
						type = send_volunteers_desire
						id = PREV
						value = 500
					}
					add_ai_strategy = {
						type = send_lend_lease_desire
						id = PREV
						value = 1000
					}
				}
			}
		}
	}
	BA_decisions_defensive_join_target = {

		icon = GFX_decision_eng_trade_unions_support
		
		ai_will_do = {
			base = 40
			modifier = {
				FROM = { has_government = ROOT }
				factor = 1000
			}
		}

		allowed = {
		}

		available = {
			threat > 0.25
		}

		visible = {
			ROOT = {
				is_faction_leader = yes
				has_country_flag = BA_decisions_defensive_join_target_flag
			}
			NOT = { has_global_flag = end_of_the_kivotos_alliance }
		}

		target_trigger = {
			ROOT = {
				tag = global.kivotos_alliance_leader
			}
			FROM = {
				is_in_array = {
					array = global.kivotos_alliance
					value = PREV
				}
				has_rule = can_join_factions
				is_puppet = no
				exists = yes
			}
		}

		fire_only_once = yes

		cost = 25

		complete_effect = {
			FROM = {
				country_event = { id = generic.5 hours = 8 }
			}
		}
	}
    BA_cooperative_treaty_ratification_dec = {

		icon = GFX_decision_oppression

		ai_will_do = {
			factor = 200
		}

		cost = 100

		visible = {
			NOT = { tag = global.kivotos_alliance_leader }
			has_idea = COU_cooperative_treaty_ratification
			NOT = { has_global_flag = end_of_the_kivotos_alliance }
		}

		available = {
			if = {
				limit = { 
					has_country_flag = COU_cooperative_treaty_ratification_fascism_flag
				}
				NOT = {
					has_government = fascism
				}
			}
			else_if = {
				limit = { 
					has_country_flag = COU_cooperative_treaty_ratification_communism_flag
				}
				NOT = {
					has_government = communism
				}
			}
			else_if = {
				limit = { 
					has_country_flag = COU_cooperative_treaty_ratification_democratic_flag
				}
				NOT = {
					has_government = democratic
				}
			}
			else_if = {
				limit = { 
					has_country_flag = COU_cooperative_treaty_ratification_neutrality_flag
				}
				NOT = {
					has_government = neutrality
				}
			}
		}

		complete_effect = {
			remove_ideas = COU_cooperative_treaty_ratification
		}
	}
}
economy_decisions = {
    BA_decisions_railway_improvement = {
		icon = GFX_decision_generic_construction
		ai_will_do = {
			factor = 4000
		}

    	available = {
    	}
		visible = {
			has_idea = BA_railway_gauge_issue
		}
		
		cost = 15

		days_remove = 70

		days_re_enable = 70

		modifier = {
			consumer_goods_factor = 0.05
		}

		remove_effect = {
			modify_timed_idea = {
				idea = BA_railway_gauge_issue
				days = -365
			}
		}
	}
}


form_european_union_category = {

	form_pan_europea = {

		icon = generic_form_nation

		allowed = {
			original_tag = ITA
			OR = {
				has_dlc = "Waking the Tiger"
				has_dlc = "By Blood Alone"
			}
		}

		available = {
			is_subject = no
			OR = {
				custom_trigger_tooltip = {
					tooltip = form_pan_europea_FRA_tt
					# Albania
					controls_state = 16
					controls_state = 972
					controls_state = 973
					controls_state = 24
					controls_state = 27
					controls_state = 18
					controls_state = 29
					controls_state = 971
					controls_state = 17
					controls_state = 28
					controls_state = 976
					controls_state = 20
					controls_state = 32
					controls_state = 735
					controls_state = 980
					controls_state = 851
					controls_state = 981
					controls_state = 21
					controls_state = 22
					controls_state = 31
					controls_state = 785
					controls_state = 24
					controls_state = 33
					controls_state = 25
					controls_state = 15
					controls_state = 30
					controls_state = 14
					controls_state = 23
					controls_state = 19
					controls_state = 806
					controls_state = 26
				}
				custom_trigger_tooltip = {
					tooltip = form_pan_europea_GER_tt
					controls_state = 5
					controls_state = 42
					controls_state = 50
					controls_state = 51
					controls_state = 52
					controls_state = 53
					controls_state = 54
					controls_state = 55
					controls_state = 56
					controls_state = 57
					controls_state = 58
					controls_state = 59
					controls_state = 60
					controls_state = 61
					controls_state = 62
					controls_state = 63
					controls_state = 64
					controls_state = 65
					controls_state = 66
					controls_state = 67
					controls_state = 68
					controls_state = 763
					controls_state = 909
					controls_state = 975
					controls_state = 978
				}
				custom_trigger_tooltip = {
					tooltip = form_pan_europea_AUS_tt
					controls_state = 848
					controls_state = 153
					controls_state = 152
					controls_state = 4
					controls_state = 984
				}
				custom_trigger_tooltip = {
					tooltip = form_pan_europea_HOL_tt
					controls_state = 36
					controls_state = 7
					controls_state = 35
					controls_state = 6
					controls_state = 34
					controls_state = 974
					controls_state = 8
					controls_state = 977
				}
				custom_trigger_tooltip = {
					tooltip = form_pan_europea_CZE_tt
					controls_state = 985
					controls_state = 69
					controls_state = 9
					controls_state = 74
					controls_state = 75
				}
				custom_trigger_tooltip = {
					tooltip = form_pan_europea_SWE_tt
					controls_state = 138
					controls_state = 139
					controls_state = 140
					controls_state = 913
					controls_state = 919
					controls_state = 141
					controls_state = 916
					controls_state = 38
					controls_state = 917
					controls_state = 918
					controls_state = 666
				}
				custom_trigger_tooltip = {
					tooltip = form_pan_europea_NOR_tt
					controls_state = 110
					controls_state = 921
					controls_state = 922
					controls_state = 142
					controls_state = 920
					controls_state = 143
					controls_state = 923
					controls_state = 144
					controls_state = 924
					controls_state = 925
				}
				custom_trigger_tooltip = {
					tooltip = form_pan_europea_DEN_tt
					controls_state = 99
					controls_state = 912
					controls_state = 911
					controls_state = 37
					controls_state = 909
					controls_state = 910
				}
			}
		}

		visible = {
			original_tag = ITA
			NOT = { has_global_flag = form_pan_europea_flag }
			ITA = {
				has_completed_focus = ITA_rise_of_pan_europeanism
			}
		}

		complete_effect = {
			set_cosmetic_tag = PAN_EUROPEA_STATE
			custom_effect_tooltip = form_pan_europea_states_tt
 			hidden_effect = {
				if = {
					limit = {
						controls_state = 16
						controls_state = 972
						controls_state = 973
						controls_state = 24
						controls_state = 27
						controls_state = 18
						controls_state = 29
						controls_state = 971
						controls_state = 17
						controls_state = 28
						controls_state = 976
						controls_state = 20
						controls_state = 32
						controls_state = 735
						controls_state = 980
						controls_state = 851
						controls_state = 981
						controls_state = 21
						controls_state = 22
						controls_state = 31
						controls_state = 785
						controls_state = 24
						controls_state = 33
						controls_state = 25
						controls_state = 15
						controls_state = 30
						controls_state = 14
						controls_state = 23
						controls_state = 19
						controls_state = 806
						controls_state = 26
					}
					add_state_core = 16
					add_state_core = 972
					add_state_core = 973
					add_state_core = 24
					add_state_core = 27
					add_state_core = 18
					add_state_core = 29
					add_state_core = 971
					add_state_core = 17
					add_state_core = 28
					add_state_core = 976
					add_state_core = 20
					add_state_core = 32
					add_state_core = 735
					add_state_core = 980
					add_state_core = 851
					add_state_core = 981
					add_state_core = 21
					add_state_core = 22
					add_state_core = 31
					add_state_core = 785
					add_state_core = 24
					add_state_core = 33
					add_state_core = 25
					add_state_core = 15
					add_state_core = 30
					add_state_core = 14
					add_state_core = 23
					add_state_core = 19
					add_state_core = 806
					add_state_core = 26

					set_country_flag = form_pan_europea_GER_flag
				}
				if = {
					limit = {
						controls_state = 5
						controls_state = 42
						controls_state = 50
						controls_state = 51
						controls_state = 52
						controls_state = 53
						controls_state = 54
						controls_state = 55
						controls_state = 56
						controls_state = 57
						controls_state = 58
						controls_state = 59
						controls_state = 60
						controls_state = 61
						controls_state = 62
						controls_state = 63
						controls_state = 64
						controls_state = 65
						controls_state = 66
						controls_state = 67
						controls_state = 68
						controls_state = 763
						controls_state = 909
						controls_state = 975
						controls_state = 978
					}
					add_state_core = 5
					add_state_core = 42
					add_state_core = 50
					add_state_core = 51
					add_state_core = 52
					add_state_core = 53
					add_state_core = 54
					add_state_core = 55
					add_state_core = 56
					add_state_core = 57
					add_state_core = 58
					add_state_core = 59
					add_state_core = 60
					add_state_core = 61
					add_state_core = 62
					add_state_core = 63
					add_state_core = 64
					add_state_core = 65
					add_state_core = 66
					add_state_core = 67
					add_state_core = 68
					add_state_core = 763
					add_state_core = 909
					add_state_core = 975
					add_state_core = 978

					set_country_flag = form_pan_europea_GER_flag
				}
				if = {
					limit = {
						controls_state = 848
						controls_state = 153
						controls_state = 152
						controls_state = 4
						controls_state = 984
					}
					add_state_core = 848
					add_state_core = 153
					add_state_core = 152
					add_state_core = 4
					add_state_core = 984

					set_country_flag = form_pan_europea_AUS_flag
				}
				if = {
					limit = {
						controls_state = 36
						controls_state = 7
						controls_state = 35
						controls_state = 6
						controls_state = 34
						controls_state = 974
						controls_state = 8
						controls_state = 977
					}
					add_state_core = 36
					add_state_core = 7
					add_state_core = 35
					add_state_core = 6
					add_state_core = 34
					add_state_core = 974
					add_state_core = 8
					add_state_core = 977

					set_country_flag = form_pan_europea_HOL_flag
				}
				if = {
					limit = {
						controls_state = 985
						controls_state = 69
						controls_state = 9
						controls_state = 74
						controls_state = 75
					}
					add_state_core = 985
					add_state_core = 69
					add_state_core = 9
					add_state_core = 74
					add_state_core = 75

					set_country_flag = form_pan_europea_CZE_flag
				}
				if = {
					limit = {
						controls_state = 138
						controls_state = 139
						controls_state = 140
						controls_state = 913
						controls_state = 919
						controls_state = 141
						controls_state = 916
						controls_state = 38
						controls_state = 917
						controls_state = 918
						controls_state = 666
					}
					add_state_core = 138
					add_state_core = 139
					add_state_core = 140
					add_state_core = 913
					add_state_core = 919
					add_state_core = 141
					add_state_core = 916
					add_state_core = 38
					add_state_core = 917
					add_state_core = 918
					add_state_core = 666

					set_country_flag = form_pan_europea_SWE_flag
				}
				if = {
					limit = {
						controls_state = 110
						controls_state = 921
						controls_state = 922
						controls_state = 142
						controls_state = 920
						controls_state = 143
						controls_state = 923
						controls_state = 144
						controls_state = 924
						controls_state = 925
					}
					add_state_core = 110
					add_state_core = 921
					add_state_core = 922
					add_state_core = 142
					add_state_core = 920
					add_state_core = 143
					add_state_core = 923
					add_state_core = 144
					add_state_core = 924
					add_state_core = 925

					set_country_flag = form_pan_europea_NOR_flag
				}
				if = {
					limit = {
						controls_state = 99
						controls_state = 912
						controls_state = 911
						controls_state = 37
						controls_state = 909
						controls_state = 910
					}
					add_state_core = 110
					add_state_core = 921
					add_state_core = 922
					add_state_core = 142
					add_state_core = 920
					add_state_core = 143
					add_state_core = 923
					add_state_core = 144
					add_state_core = 924
					add_state_core = 925

					set_country_flag = form_pan_europea_DEN_flag
				}
 			}
			
			
			hidden_effect = {
				news_event = { id = BA_news.104 hours = 6 }
				set_global_flag = form_pan_europea_flag
				if = {
					limit = {
						has_government = fascism
					}
					ITA_remove_king_vittorio_emanuele_as_idea = yes
				}
			}

			add_war_support = 0.1

		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
}