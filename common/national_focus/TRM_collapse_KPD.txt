focus_tree = {
	id = KPD_focus_tree
	shared_focus = TCA_invite_foreign_investors
	continuous_focus_position = {
		x = 130
		y = 900
	}
	country = {
		factor = 0
		modifier = {
			add = 10
			tag = KPD
		}
	}
	focus = {
		#혁명군 모집
		id = KPD_focus_1
		icon = GFX_goal_generic_war_with_comintern
		cost = 2.9
		x = 4
		y = 0
		completion_reward = {
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = 500
			}
			add_equipment_to_stockpile = {
				type = support_equipment
				amount = 75
			}
		}
	}
	focus = {
		#소련 연락
		id = KPD_focus_2
		icon = GFX_focus_chi_mission_to_the_soviet_union
		cost = 1.5
		x = 0
		y = 1
		relative_position_id = KPD_focus_1
		prerequisite = {
			focus = KPD_focus_1
		}
		completion_reward = {
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = 1000
			}
		}
	}
	focus = {
		#더 많은 지원
		id = KPD_focus_12
		icon = GFX_focus_SOV_mobilization_plan
		cost = 1.5
		x = 0
		y = 2
		relative_position_id = KPD_focus_1
		prerequisite = {
			focus = KPD_focus_2
		}
		completion_reward = {
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = 3000
			}
			add_equipment_to_stockpile = {
				type = support_equipment
				amount = 500
			}
			activate_advisor = KPD_richard_sorge_idea
			SOV = {
				add_ai_strategy = {
					type = send_volunteers_desire
					id = "KPD"
					value = 1000
				}
			}
		}
	}
	focus = {
		#방위 계획
		id = KPD_focus_3
		icon = GFX_goal_generic_defence
		cost = 1.5
		x = -2
		y = 2
		relative_position_id = KPD_focus_1
		prerequisite = {
			focus = KPD_focus_1
		}
		completion_reward = {
			add_timed_idea = {
				idea = KPD_defense
				days = 60
			}
		}
	}
	focus = {
		#적색전선 재건
		id = KPD_focus_4
		icon = GFX_focus_spr_the_anti_fascist_workers_revolution
		cost = 1.5
		x = -3
		y = 3
		relative_position_id = KPD_focus_1
		prerequisite = {
			focus = KPD_focus_3
		}
		mutually_exclusive = {
			focus = KPD_focus_5
		}
		completion_reward = {
			if = { limit = { controls_state = 61 }
				61 = {
					create_unit = {
						division = "name = \"Roter Frontkämpferbund\" division_template = \"Revolution army\" start_experience_factor = 0.1 start_equipment_factor = 0.5"
						owner = KPD
					}
					create_unit = {
						division = "name = \"Roter Frontkämpferbund (Militia)\" division_template = \"Peoples Militia\" start_experience_factor = 0.1 start_equipment_factor = 0.3"
						owner = KPD
					}
					create_unit = {
						division = "name = \"Roter Frontkämpferbund (Militia)\" division_template = \"Peoples Militia\" start_experience_factor = 0.1 start_equipment_factor = 0.3"
						owner = KPD
					}
				}
			}
			else = {
				random_controlled_state = {
					create_unit = {
						division = "name = \"Roter Frontkämpferbund\" division_template = \"Revolution army\" start_experience_factor = 0.1 start_equipment_factor = 0.3"
						owner = KPD
					}
					create_unit = {
						division = "name = \"Roter Frontkämpferbund (Militia)\" division_template = \"Peoples Militia\" start_experience_factor = 0.1 start_equipment_factor = 0.5"
						owner = KPD
					}
				}
			}

			if = { limit = { controls_state = 65 }
				65 = {
					create_unit = {
						division = "name = \"Roter Frontkämpferbund\" division_template = \"Revolution army\" start_experience_factor = 0.1 start_equipment_factor = 0.6"
						owner = KPD
					}
					create_unit = {
						division = "name = \"Roter Frontkämpferbund (Militia)\" division_template = \"Peoples Militia\" start_experience_factor = 0.1 start_equipment_factor = 0.3"
						owner = KPD
					}
					create_unit = {
						division = "name = \"Roter Frontkämpferbund (Militia)\" division_template = \"Peoples Militia\" start_experience_factor = 0.1 start_equipment_factor = 0.3"
						owner = KPD
					}
					create_unit = {
						division = "name = \"Roter Frontkämpferbund (Militia)\" division_template = \"Peoples Militia\" start_experience_factor = 0.1 start_equipment_factor = 0.3"
						owner = KPD
					}
				}
			}
			else = {
				random_controlled_state = {
					create_unit = {
						division = "name = \"Roter Frontkämpferbund\" division_template = \"Revolution army\" start_experience_factor = 0.1 start_equipment_factor = 0.6"
						owner = KPD
					}
					create_unit = {
						division = "name = \"Roter Frontkämpferbund (Militia)\" division_template = \"Peoples Militia\" start_experience_factor = 0.1 start_equipment_factor = 0.3"
						owner = KPD
					}
				}
			}
		}
	}
	focus = {
		#중요시설 점거
		id = KPD_focus_5
		icon = GFX_goal_generic_construct_infrastructure
		cost = 1.5
		x = -1
		y = 3
		relative_position_id = KPD_focus_1
		mutually_exclusive = {
			focus = KPD_focus_4
		}
		prerequisite = {
			focus = KPD_focus_3
		}
		completion_reward = {
			add_stability = 0.10
			add_equipment_to_stockpile = {
				type = infantry_equipment_0
				amount = 1000
			}
			add_equipment_to_stockpile = {
				type = infantry_equipment_1
				amount = 750
			}
			add_equipment_to_stockpile = {
				type = train_equipment
				amount = 5
			}
		}
	}
	focus = {
		#후퇴 ㄴ
		id = KPD_focus_6
		icon = GFX_goal_generic_small_arms
		cost = 1.5
		x = -2
		y = 4
		relative_position_id = KPD_focus_1
		prerequisite = {
			focus = KPD_focus_5
			focus = KPD_focus_4
		}
		completion_reward = {
			add_timed_idea = {
				idea = KPD_no_run
				days = 100
			}
		}
	}
	focus = {
		#공세 계획
		id = KPD_focus_7
		icon = GFX_goal_generic_occupy_states_ongoing_war
		cost = 1.5
		x = 2
		y = 2
		relative_position_id = KPD_focus_1
		prerequisite = {
			focus = KPD_focus_1
		}
		completion_reward = {
			add_timed_idea = {
				idea = KPD_attack
				days = 60
			}
		}
	}
	focus = {
		#바이마르의 공산당원
		id = KPD_focus_8
		icon = GFX_focus_generic_workers_and_farmers_rise
		cost = 1.5
		x = 1
		y = 3
		available = {
			controls_state = 60
		}
		relative_position_id = KPD_focus_1
		prerequisite = {
			focus = KPD_focus_7
		}
		mutually_exclusive = {
			focus = KPD_focus_9
		}
		completion_reward = {
			add_popularity = {
				ideology = communism
				popularity = 0.10
			}
			60 = {
				create_unit = {
					division = "name = \"Vanguard\" division_template = \"Vanguard\" start_experience_factor = 0.6 start_equipment_factor = 0.2"
					owner = KPD
				}
				create_unit = {
					division = "name = \"Rote Armee\" division_template = \"Revolution army\" start_experience_factor = 0.1 start_equipment_factor = 0.6"
					owner = KPD
				}
			}
		}
	}
	focus = {
		#포어포메른의 사민당원
		id = KPD_focus_9
		icon = GFX_focus_generic_little_entente
		cost = 1
		x = 3
		y = 3
		available = {
			controls_state = 62
		}
		relative_position_id = KPD_focus_1
		mutually_exclusive = {
			focus = KPD_focus_8
		}
		prerequisite = {
			focus = KPD_focus_7
		}
		completion_reward = {
			add_popularity = {
				ideology = democratic
				popularity = 0.10
			}
			62 = {
				create_unit = {
					division = "name = \"Militia\" division_template = \"Peoples Militia\" start_experience_factor = 0.1 start_equipment_factor = 0.3"
					owner = KPD
				}
				create_unit = {
					division = "name = \"Militia\" division_template = \"Peoples Militia\" start_experience_factor = 0.1 start_equipment_factor = 0.3"
					owner = KPD
				}
			}
		}
	}
	focus = {
		#지도조직 개선
		id = KPD_focus_10
		icon = GFX_focus_generic_military_mission
		cost = 1.5
		x = 2
		y = 4
		relative_position_id = KPD_focus_1
		prerequisite = {
			focus = KPD_focus_8
			focus = KPD_focus_9
		}
		completion_reward = {
			army_experience = 20
			add_command_power = 20
		}
	}
	focus = {
		#해방
		id = KPD_focus_11
		icon = GFX_focus_focus_fra_revolution_utmost
		cost = 1.5
		x = 0
		y = 5
		relative_position_id = KPD_focus_1
		prerequisite = {
			focus = KPD_focus_10
		}
		available = {
			NOT = { has_war_with = TRM }
		}
		prerequisite = {
			focus = KPD_focus_6
		}
		completion_reward = {
			custom_effect_tooltip = KPD_focus_11_tt
			set_global_flag = KPD_win_flag
			add_timed_idea = {
				idea = KPD_fever_of_victory
				days = 240
			}
			hidden_effect = {
				country_event = {
					id = KPD_event.13
					days = 10
				}
			}
		}
	}
	focus = {
		#육군 수립
		id = KPD_establishing_an_army
		icon = GFX_goal_generic_army_doctrines
		cost = 10
		x = 11
		y = 0
		available = {
			NOT = { has_war_with = TRM }
		}
		search_filters = {
			FOCUS_FILTER_ARMY_XP
		}
		completion_reward = {
			army_experience = 25
			add_dynamic_modifier = {
				modifier = KPD_army_dynamic_modifier
			}
			hidden_effect = {
				country_event = {
					id = KPD_event.13
					days = 10
				}
			}
		}
	}
	focus = {
		#독일의 붉은 군대
		id = KPD_germany_red_army
		icon = GFX_focus_SOV_mobilization_plan
		cost = 5
		prerequisite = {
			focus = KPD_establishing_an_army
		}
		mutually_exclusive = {
			focus = KPD_prussian_army
		}
		available = {
		}
		relative_position_id = KPD_establishing_an_army
		x = -1
		y = 1
		search_filters = {
			FOCUS_FILTER_ARMY_XP
		}
		completion_reward = {
			hidden_effect = {
				remove_dynamic_modifier = {
					modifier = KPD_army_dynamic_modifier
				}
				add_dynamic_modifier = {
					modifier = KPD_the_red_army_dynamic_modifier
				}
			}
			add_to_variable = {
				KPD_army_mobilization_speed = 0.05
			}
			add_to_variable = {
				KPD_army_army_org_factor = -0.05
			}
			add_to_variable = {
				KPD_army_experience_gain_army_factor = -0.1
			}
			add_to_variable = {
				KPD_army_experience_loss_factor = -0.15
			}
			add_to_variable = {
				KPD_army_mobilization_laws_cost_factor = -0.2
			}
			custom_effect_tooltip = KPD_germany_red_army_tt
			add_political_power = 60
		}
	}
	focus = {
		#프로이센 군국주의
		id = KPD_prussian_army
		icon = GFX_focus_ger_oppose_hitler
		cost = 5
		prerequisite = {
			focus = KPD_establishing_an_army
		}
		mutually_exclusive = {
			focus = KPD_germany_red_army
		}
		available = {
		}
		relative_position_id = KPD_establishing_an_army
		x = 1
		y = 1
		search_filters = {
			FOCUS_FILTER_ARMY_XP
		}
		completion_reward = {
			hidden_effect = {
				remove_dynamic_modifier = {
					modifier = KPD_army_dynamic_modifier
				}
				add_dynamic_modifier = {
					modifier = KPD_prussian_army_dynamic_modifier
				}
			}
			add_to_variable = {
				KPD_army_mobilization_speed = -0.05
			}
			add_to_variable = {
				KPD_army_conscription = 0.01
			}
			add_to_variable = {
				KPD_army_army_org_factor = 0.05
			}
			add_to_variable = {
				KPD_army_experience_loss_factor = -0.25
			}
			custom_effect_tooltip = KPD_prussian_army_tt
			add_stability = -0.05
			add_popularity = {
				ideology = communism
				popularity = -0.1
			}
		}
	}
	focus = {
		#군 내 계급 도입
		id = KPD_introduction_of_ranks_within_the_military
		icon = GFX_goal_generic_small_arms
		cost = 10
		prerequisite = {
			focus = KPD_germany_red_army
			focus = KPD_prussian_army
		}
		available = {
		}
		relative_position_id = KPD_establishing_an_army
		x = 0
		y = 2
		search_filters = {
			FOCUS_FILTER_ARMY_XP
		}
		complete_tooltip = {
			swap_ideas = {
				remove_idea = KPD_no_rank_army
				add_idea = KPD_no_rank_army_1
			}
		}
		completion_reward = {
			add_to_variable = {
				KPD_army_experience_loss_factor = -0.1
			}
			add_to_variable = {
				KPD_army_max_command_power_mult = 0.1
			}
			custom_effect_tooltip = KPD_introduction_of_ranks_within_the_military_tt
			if = {
				limit = {
					has_idea = KPD_no_rank_army
				}
				swap_ideas = {
					remove_idea = KPD_no_rank_army
					add_idea = KPD_no_rank_army_1
				}
			}
			custom_effect_tooltip = KPD_introduction_of_ranks_within_the_military_2_tt
			hidden_effect = {
				country_event = KPD_unit_leader_event.1
			}
		}
	}
	focus = {
		#민병대 해산
		id = KPD_disbanding_the_militia
		icon = GFX_goal_generic_military_deal
		cost = 5
		prerequisite = {
			focus = KPD_introduction_of_ranks_within_the_military
		}
		mutually_exclusive = {
			focus = KPD_peoples_defense_corps
		}
		available = {
		}
		relative_position_id = KPD_introduction_of_ranks_within_the_military
		x = 0
		y = 1
		search_filters = {
			FOCUS_FILTER_ARMY_XP
		}
		completion_reward = {
			delete_unit_template_and_units = {
				division_template = "Peoples Militia"
				disband = yes				#will refund equipment and manpower
			}
		}
	}
	focus = {
		#인민방위대
		id = KPD_peoples_defense_corps
		icon = GFX_goal_generic_military_sphere
		cost = 10
		prerequisite = {
			focus = KPD_introduction_of_ranks_within_the_military
		}
		mutually_exclusive = {
			focus = KPD_disbanding_the_militia
		}
		available = {
		}
		relative_position_id = KPD_introduction_of_ranks_within_the_military
		x = -2
		y = 1
		search_filters = {
			FOCUS_FILTER_ARMY_XP
		}
		completion_reward = {
			delete_unit_template_and_units = {
				division_template = "Peoples Militia"
				disband = yes				#will refund equipment and manpower
			}
			add_ideas = KPD_peoples_defense_corps_idea
		}
	}
	focus = {
		#소련 영토 적응
		id = KPD_joint_military_training
		icon = GFX_focus_prc_infiltration
		cost = 10
		prerequisite = {
			focus = KPD_disbanding_the_militia
			focus = KPD_peoples_defense_corps
		}
		available = {
			SOV_will_support = yes
		}
		relative_position_id = KPD_disbanding_the_militia
		x = -2
		y = 1
		search_filters = {
			FOCUS_FILTER_ARMY_XP
		}
		completion_reward = {
			add_to_variable = {
				KPD_army_winter_attrition_factor = -0.05
			}
			add_to_variable = {
				KPD_army_acclimatization_cold_climate_gain_factor = 0.1
			}
			add_to_variable = {
				KPD_army_acclimatization_hot_climate_gain_factor = 0.05
			}
			add_to_variable = {
				KPD_army_terrain_penalty_reduction = 0.05
			}
			custom_effect_tooltip = KPD_joint_military_training_tt
		}
	}
	focus = {
		#전위대 해산
		id = KPD_vanguard_disbanded
		icon = GFX_goal_generic_war_with_comintern
		cost = 5
		prerequisite = {
			focus = KPD_establishing_an_army
		}
		available = {
		}
		relative_position_id = KPD_establishing_an_army
		x = 3
		y = 2
		search_filters = {
			FOCUS_FILTER_ARMY_XP
		}
		completion_reward = {
			add_to_variable = {
				KPD_army_conscription_factor = 0.03
			}
			add_to_variable = {
				KPD_army_training_time_factor = -0.05
			}
			custom_effect_tooltip = KPD_vanguard_disbanded_tt
			delete_unit_template_and_units = {
				division_template = "Vanguard"
				disband = yes				#will refund equipment and manpower
			}
		}
	}
	focus = {
		#장교 승진
		id = KPD_officer_promotion
		icon = GFX_focus_generic_support_the_left_right
		cost = 5
		prerequisite = {
			focus = KPD_vanguard_disbanded
		}
		prerequisite = {
			focus = KPD_introduction_of_ranks_within_the_military
		}
		available = {
		}
		relative_position_id = KPD_vanguard_disbanded
		x = 0
		y = 1
		search_filters = {
			FOCUS_FILTER_ARMY_XP
		}
		completion_reward = {
			KPD_willi_stoph = {
				promote_leader = yes
			}
			random_army_leader = {
				limit = {
					is_field_marshal = no
					NOT = {
						is_character = KPD_elected_officer
						is_character = KPD_elected_officer_1
						is_character = KPD_elected_officer_2
						is_character = KPD_elected_officer_3
						is_character = KPD_elected_officer_4
						is_character = KPD_elected_officer_5
					}
					if = {
						limit = { ROOT = { has_character = KPD_wilhelm_leuschner } }
						is_character = KPD_wilhelm_leuschner
					}
				}
				gain_xp = 25
				add_unit_leader_trait = career_officer
	    		add_attack = 1
			}
			random_army_leader = {
				limit = {
					is_field_marshal = no
					NOT = {
						is_character = KPD_elected_officer
						is_character = KPD_elected_officer_1
						is_character = KPD_elected_officer_2
						is_character = KPD_elected_officer_3
						is_character = KPD_elected_officer_4
						is_character = KPD_elected_officer_5
					}
					if = {
						limit = { ROOT = { has_character = KPD_alexander_schwab } }
						is_character = KPD_alexander_schwab
					}
				}
				gain_xp = 25
				add_unit_leader_trait = career_officer
	    		add_attack = 1
			}
		}
	}
	focus = {
		#재교육 캠프
		id = KPD_reeducation_camp
		icon = GFX_goal_generic_dangerous_deal
		cost = 5
		prerequisite = {
			focus = KPD_vanguard_disbanded
		}
		available = {
		}
		relative_position_id = KPD_vanguard_disbanded
		x = 2
		y = 1
		search_filters = {
			FOCUS_FILTER_ARMY_XP
		}
		completion_reward = {
			custom_effect_tooltip = TCA_pursuit_of_harmony_tt
			set_country_flag = kivotos_research_on
		}
	}
	focus = {
		#군 부패 금지
		id = KPD_no_military_corruption
		icon = GFX_goal_generic_secret_weapon
		cost = 5
		prerequisite = {
			focus = KPD_officer_promotion
		}
		mutually_exclusive = {
			focus = KPD_discipline_comes_first
		}
		available = {
		}
		relative_position_id = KPD_officer_promotion
		x = 2
		y = 1
		search_filters = {
			FOCUS_FILTER_ARMY_XP
		}
		completion_reward = {
			add_to_variable = {
				KPD_army_conscription_factor = 0.03
			}
			add_to_variable = {
				KPD_army_army_org_regain = 0.1
			}
			add_to_variable = {
				KPD_army_experience_loss_factor = -0.1
			}
			custom_effect_tooltip = KPD_no_military_corruption_tt
			add_stability = 0.05
			add_popularity = {
				ideology = communism
				popularity = 0.05
			}
		}
	}
	focus = {
		#규율 우선
		id = KPD_discipline_comes_first
		icon = GFX_focus_secret_rearmament
		cost = 5
		prerequisite = {
			focus = KPD_officer_promotion
		}
		mutually_exclusive = {
			focus = KPD_no_military_corruption
		}
		available = {
		}
		relative_position_id = KPD_officer_promotion
		x = 0
		y = 1
		search_filters = {
			FOCUS_FILTER_ARMY_XP
		}
		completion_reward = {
			add_to_variable = {
				KPD_army_army_org_factor = 0.05
			}
			add_to_variable = {
				KPD_army_experience_loss_factor = -0.25
			}
			custom_effect_tooltip = KPD_discipline_comes_first_tt
		}
	}
	focus = {
		#국가인민군
		id = KPD_national_peoples_army
		icon = GFX_focus_generic_military_mission
		cost = 10
		prerequisite = {
			focus = KPD_disbanding_the_militia
		}
		prerequisite = {
			focus = KPD_officer_promotion
		}
		available = {
		}
		relative_position_id = KPD_officer_promotion
		x = -3
		y = 1
		search_filters = {
			FOCUS_FILTER_ARMY_XP
		}
		select_effect = {
			add_ideas = SOV_military_reorganization_ns
		}
		completion_reward = {
			#Tooltip purposes (Select Effect)
			custom_effect_tooltip = SOV_focus_select_effect_tt
			effect_tooltip = {
				add_ideas = SOV_military_reorganization_ns
			}
			#(Complete Effect)
			custom_effect_tooltip = SOV_focus_complete_effect_tt
			hidden_effect = {
				remove_ideas = SOV_military_reorganization_ns
			}
			army_experience = 50
			add_command_power = 25
			unlock_decision_tooltip = KPD_officer_retraining
		}
	}
	focus = {
		#정치장교 조직 해체
		id = KPD_political_officers_disbanded
		icon = GFX_goal_generic_occupy_states_ongoing_war
		cost = 10
		prerequisite = {
			focus = KPD_national_peoples_army
		}
		mutually_exclusive = {
			focus = KPD_expansion_of_political_officers
		}
		available = {
		}
		relative_position_id = KPD_national_peoples_army
		x = 0
		y = 1
		search_filters = {
			FOCUS_FILTER_ARMY_XP
		}
		complete_tooltip = {
			remove_ideas = KPD_no_rank_army_1
		}
		completion_reward = {
			effect_tooltip = {
				remove_ideas = KPD_no_rank_army_1
			}
			hidden_effect = {
				if = {
					limit = {
						has_idea = KPD_no_rank_army_1
					}
					remove_ideas = KPD_no_rank_army_1
				}
			}
		}
	}
	focus = {
		#군 정치장교 장려
		id = KPD_expansion_of_political_officers
		icon = GFX_goal_generic_major_war
		cost = 10
		prerequisite = {
			focus = KPD_officer_promotion
		}
		mutually_exclusive = {
			focus = KPD_political_officers_disbanded
		}
		available = {
		}
		relative_position_id = KPD_national_peoples_army
		x = 2
		y = 1
		search_filters = {
			FOCUS_FILTER_ARMY_XP
		}
		completion_reward = {
			effect_tooltip = {
				swap_ideas = {
					remove_idea = KPD_no_rank_army_1
					add_idea = SOV_politicized_military
				}
			}
			hidden_effect = {
				if = {
					limit = {
						has_idea = KPD_no_rank_army_1
					}
					swap_ideas = {
						remove_idea = KPD_no_rank_army_1
						add_idea = SOV_politicized_military
					}
				}
			}
		}
	}
	focus = { #연합최고사령부 해산
		id = KPD_dissolution_of_joint_supreme_command
		icon = GFX_goal_anschluss
		cost = 5
		x = 30
		y = 0
		available = {
			NOT = { has_war_with = TRM }
		}
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			add_political_power = 120
			hidden_effect = {
				country_event = {
					id = KPD_event.13
					days = 10
				}
			}
			set_cosmetic_tag = TRM_collapse_win
		}
	}
	focus = { #내무인민위원부 간섭 방해
		id = KPD_internal_peoples_affairs_committee_interference_hindrance
		icon = GFX_focus_generic_support_the_left_right
		cost = 10
		prerequisite = {
			focus = KPD_dissolution_of_joint_supreme_command
		}
		x = 2
		y = 1
		relative_position_id = KPD_dissolution_of_joint_supreme_command
		available = {
			if = {
				limit = { has_character = KPD_richard_sorge }
				KPD_richard_sorge = {
					is_hired_as_advisor = yes
				}
			}
			else = {
				always = no
			}
		}
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			retire_character = KPD_richard_sorge
			SOV = {
				add_opinion_modifier = {
					target = KPD
					modifier = large_decrease
				}
			}
		}
	}
	focus = { #산업 국유화
		id = KPD_nationalization_of_industries
		icon = GFX_goal_generic_construct_civ_factory
		cost = 10
		prerequisite = {
			focus = KPD_dissolution_of_joint_supreme_command
		}
		mutually_exclusive = {
			focus = KPD_establishment_of_factory_councils
		}
		x = -3
		y = 1
		relative_position_id = KPD_dissolution_of_joint_supreme_command
		available = {
			has_political_power > 100
		}
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		cancel_if_invalid = no
		continue_if_invalid = yes
		cancelable = no
		completion_reward = {
			custom_effect_tooltip = SOV_focus_select_effect_tt
			add_political_power = -100
			custom_effect_tooltip = SOV_focus_complete_effect_tt
			remove_ideas = KPD_economic_vacuum
		}
	}
	focus = { #공장위원회 설치
		id = KPD_establishment_of_factory_councils
		icon = GFX_focus_FIN_socialist_welfare
		cost = 5
		prerequisite = {
			focus = KPD_dissolution_of_joint_supreme_command
		}
		mutually_exclusive = {
			focus = KPD_nationalization_of_industries
		}
		x = -1
		y = 1
		relative_position_id = KPD_dissolution_of_joint_supreme_command
		available = {
		}
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			swap_ideas = {
				remove_idea = KPD_economic_vacuum
				add_idea = KPD_factory_councils
			}
			hidden_effect = {
				country_event = { id = KPD_event.14 days = 35 }
				country_event = { id = KPD_event.15 days = 70 }
				country_event = { id = KPD_event.16 days = 105 }
			}
		}
	}
	focus = { #모스크바 추종
		id = KPD_moscow_allegiance
		icon = GFX_focus_SOV_third_rome
		cost = 5
		prerequisite = {
			focus = KPD_dissolution_of_joint_supreme_command
		}
		mutually_exclusive = {
			focus = KPD_removal_of_thalmann
			focus = KPD_victory_of_the_social_democratic_party
		}
		x = -9
		y = 2
		relative_position_id = KPD_dissolution_of_joint_supreme_command
		available = {
		}
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			add_manpower = 15000
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}
	focus = { #텔만 제거
		id = KPD_removal_of_thalmann
		icon = GFX_goal_generic_war_with_comintern
		cost = 5
		prerequisite = {
			focus = KPD_dissolution_of_joint_supreme_command
		}
		mutually_exclusive = {
			focus = KPD_moscow_allegiance
			focus = KPD_victory_of_the_social_democratic_party
		}
		x = 0
		y = 2
		relative_position_id = KPD_dissolution_of_joint_supreme_command
		available = {
			if = {
				limit = { has_character = KPD_richard_sorge }
				NOT = {
					KPD_richard_sorge = {
						is_hired_as_advisor = yes
					}
				}
			}
		}
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			promote_character = KPD_wilhelm_munzenberg
		}
	}
	focus = { #사회민주당의 승리
		id = KPD_victory_of_the_social_democratic_party
		icon = GFX_focus_BRA_reach_out_to_military_dem
		cost = 5
		prerequisite = {
			focus = KPD_dissolution_of_joint_supreme_command
		}
		mutually_exclusive = {
			focus = KPD_moscow_allegiance
			focus = KPD_removal_of_thalmann
		}
		x = 9
		y = 2
		relative_position_id = KPD_dissolution_of_joint_supreme_command
		available = {
			if = {
				limit = { has_character = KPD_richard_sorge }
				NOT = {
					KPD_richard_sorge = {
						is_hired_as_advisor = yes
					}
				}
			}
			democratic > 0.30
		}
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			set_politics = {
				ruling_party = democratic
				election_frequency = 48
				elections_allowed = yes
			}
			add_popularity = {
				ideology = democratic
				popularity = 0.15
			}
		}
	}
	focus = { #연합 급진화
		id = KPD_coalition_radicalization
		icon = GFX_focus_SOV_the_last_purge
		cost = 10
		prerequisite = {
			focus = KPD_moscow_allegiance
		}
		x = 0
		y = 1
		relative_position_id = KPD_moscow_allegiance
		available = {
		}
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			add_war_support = 0.1
			add_popularity = {
				ideology = communism
				popularity = 0.1
			}
			effect_tooltip = {
				swap_ideas = {
					remove_idea = KPD_coalition_split_accelerates
					add_idea = KPD_conflict_with_the_social_democratic_left
				}
			}
			hidden_effect = {
				if = {
					limit = {
						has_idea = KPD_coalition_split_accelerates
					}
					remove_ideas = KPD_coalition_split_accelerates
				}
				if = {
					limit = {
						NOT = { has_idea = KPD_conflict_with_the_social_democratic_left }
					}
					add_ideas = KPD_conflict_with_the_social_democratic_left
				}
			}
			add_timed_idea = {
				idea = KPD_aftermath_of_the_purge
				days = 120
			}
			set_party_name = {
				ideology = communism
				long_name = KPD_coalition_radicalization_communism_party
				name = KPD_coalition_radicalization_communism_party
			}
			set_party_name = {
				ideology = democratic
				long_name = KPD_coalition_radicalization_democratic_party
				name = KPD_coalition_radicalization_democratic_party
			}
			news_event = {
				id = BA_news.49
				hours = 8
			}
		}
	}
	focus = {
		#몰로토프-텔만 조약
		id = KPD_molotov_thalmann_pact
		icon = GFX_goal_molotov_ribbentrop_pact
		cost = 5
		prerequisite = {
			focus = KPD_moscow_allegiance
		}
		available = {
			OR = {
				is_subject = no
				is_subject_of = SOU
			}
			has_government = communism
			has_army_manpower = { size > 349999 } #ca 90 div
			SOU = {
				NOT = { has_war_with = KPD }
				country_exists = SOV
				has_civil_war = no
			}
		}
		x = -3
		y = 1
		available = {
			not = { has_war_with = SOU }
		}
		relative_position_id = KPD_moscow_allegiance
		completion_reward = {
			SOU = {
				country_event = { id = KPD_event.21 days = 1 }
				custom_effect_tooltip = GER_molotov_thalmann_pact_tt
				custom_effect_tooltip = needs_approval
			}
		}
	}
	focus = {
		#동등한 관계
		id = KPD_equal_relationship
		icon = GFX_focus_chi_mission_to_the_soviet_union
		cost = 5
		prerequisite = {
			focus = KPD_coalition_radicalization
			focus = KPD_removal_of_thalmann
		}
		mutually_exclusive = {
			focus = KPD_right_wing_support
			focus = KPD_radical_left_wing_support
			focus = KPD_internationalism
		}
		available = {
			is_subject = no
			is_in_faction = no
			not = { has_war_with = SOU }
			SOV_comintern_joinable = yes 
			if = {
				limit = { has_character = KPD_richard_sorge }
				NOT = {
					KPD_richard_sorge = {
						is_hired_as_advisor = yes
					}
				}
			}
		}
		x = 1
		y = 1
		available = {
		}
		relative_position_id = KPD_coalition_radicalization
		completion_reward = {
			SOU = {
				country_event = generic.2
			}
		}
	}
	focus = {
		#국제주의
		id = KPD_internationalism
		icon = GFX_goal_generic_political_pressure
		cost = 5
		prerequisite = {
			focus = KPD_coalition_radicalization
		}
		mutually_exclusive = {
			focus = KPD_equal_relationship
		}
		available = {
			is_subject = no
			is_in_faction = no
			not = { has_war_with = SOU }
			SOV_comintern_joinable = yes 
		}
		x = -1
		y = 1
		available = {
		}
		relative_position_id = KPD_coalition_radicalization
		completion_reward = {
			SOU = {
				country_event = { id = KPD_event.24 hours = 8 }
				custom_effect_tooltip = KPD_internationalism_tt
				custom_effect_tooltip = needs_approval
			}
		}
	}
	focus = {
		#베를린 조약기구
		id = KPD_berlin_treaty_organization
		icon = GFX_goal_generic_military_sphere
		cost = 5
		prerequisite = {
			focus = KPD_internationalism
			focus = KPD_equal_relationship
		}
		x = -1
		y = 2
		available = {
			OR = {
				is_subject = no
				is_subject_of = SOU
			}
			is_in_faction_with = SOU
		}
		relative_position_id = KPD_coalition_radicalization
		completion_reward = {
			every_country = {
				limit = {
					is_in_faction_with = SOU
				}
				add_ideas = KPD_berlin_pact_ratified
			}
		}
	}
	focus = {
		#혁명을 수호할 무력
		id = KPD_armed_forces_to_defend_the_revolution
		icon = GFX_focus_generic_combined_arms
		cost = 5
		prerequisite = {
			focus = KPD_molotov_thalmann_pact
		}
		x = 0
		y = 2
		available = {
		}
		bypass = {
		}
		relative_position_id = KPD_molotov_thalmann_pact
		complete_tooltip = {
			every_state = {
				limit = { has_state_flag = KPD_armed_forces_to_defend_the_revolution_1IC }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
					NOT = { has_state_flag = KPD_development_of_heavy_industry_1IC }
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
				set_state_flag = KPD_development_of_heavy_industry_1IC
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
					NOT = { has_state_flag = KPD_development_of_heavy_industry_1IC }
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
				set_state_flag = KPD_development_of_heavy_industry_1IC
			}
			army_experience = 25
			add_doctrine_cost_reduction = {
				name = land_doc_bonus
				cost_reduction = 0.5
				uses = 1
				category = land_doctrine
			}
		}
	}
	focus = {
		#폴란드 침공
		id = KPD_invasion_of_poland
		icon = GFX_goal_generic_territory_or_war
		cost = 5
		prerequisite = {
			focus = KPD_armed_forces_to_defend_the_revolution
		}
		prerequisite = {
			focus = KPD_berlin_treaty_organization
		}
		x = 1
		y = 2
		available = {
			has_government = communism
			OR = {
				has_army_manpower = { size > 449999 }
				is_subject_of = SOU
			}
			hidden_trigger = {
				OR = {
					is_subject = no
					is_subject_of = SOU
				}
			}
		}
		bypass = {
			POL = {
				OR = {
					exists = no
					has_capitulated = yes
					is_in_faction_with = ROOT
					is_subject_of = ROOT
				}
			}
		}
		relative_position_id = KPD_armed_forces_to_defend_the_revolution
		completion_reward = {
			if = {
				limit = {
					is_subject_of = SOU
				}
				SOU = { country_event = { id = KPD_event.27 hours = 12 } }
			}
			else = {
				create_wargoal = {
					target = POL
					type = annex_everything
				}
			}
		}
	}
	focus = {
		#소련과의 기술 협력
		id = KPD_technological_cooperation_with_the_soviet_union
		icon = GFX_goal_tfv_generic_tech_sharing
		cost = 5
		prerequisite = {
			focus = KPD_internationalism
			focus = KPD_equal_relationship
		}
		x = 1
		y = 2
		available = {
		}
		relative_position_id = KPD_coalition_radicalization
		completion_reward = {
			add_to_tech_sharing_group = KPD_german_soviet_technological_cooperation
			every_country = {
				limit = {
					tag = SOV
					is_in_faction_with = ROOT
				}
				add_to_tech_sharing_group = KPD_german_soviet_technological_cooperation
			}
		}
	}
	focus = {
		#트로츠키주의자 제거
		id = KPD_enemy_of_the_revolution
		icon = GFX_focus_SOV_purge_trotskyists
		cost = 5
		prerequisite = {
			focus = KPD_internationalism
			focus = KPD_equal_relationship
		}
		x = 0
		y = 3
		available = {
		}
		relative_position_id = KPD_coalition_radicalization
		completion_reward = {
			add_stability = 0.15
			reverse_add_opinion_modifier = {
				target = SOV
				modifier = CAN_trotsky_loves_us
			}
			IF = { limit = { has_character = KPD_wilhelm_munzenberg } KPD_wilhelm_munzenberg = { retire = yes } }
			IF = { limit = { has_character = KPD_hans_jendretzky } KPD_hans_jendretzky = { retire = yes } }
		}
	}
	focus = {
		#우파 숙청
		id = KPD_right_wing_purge
		icon = GFX_focus_SOV_purge_bukharinists
		cost = 5
		prerequisite = {
			focus = KPD_enemy_of_the_revolution
		}
		x = 0
		y = 4
		available = {
		}
		relative_position_id = KPD_coalition_radicalization
		completion_reward = {
			effect_tooltip = {
				remove_ideas = KPD_conflict_with_the_social_democratic_left
			}
			hidden_effect = {
				if = {
					limit = { has_idea = KPD_coalition_split_accelerates }
					remove_ideas = KPD_coalition_split_accelerates
				}
				if = {
					limit = { has_idea = KPD_conflict_with_the_social_democratic_left }
					remove_ideas = KPD_conflict_with_the_social_democratic_left
				}
			}
			IF = { limit = { has_character = KPD_max_seydewitz } KPD_max_seydewitz = { retire = yes } }
			IF = { limit = { has_character = KPD_heinrich_brandler } KPD_heinrich_brandler = { retire = yes } }
			IF = { limit = { has_character = KPD_august_thalheimer } KPD_august_thalheimer = { retire = yes } }
		}
	}
	focus = {
		#공산주의 사회 건설
		id = KPD_construction_of_a_communist_society
		icon = GFX_goal_generic_war_with_comintern
		cost = 10
		prerequisite = {
			focus = KPD_right_wing_purge
			focus = KPD_invasion_of_poland
		}
		x = -1
		y = 2
		available = {
		}
		bypass = {
		}
		relative_position_id = KPD_right_wing_purge
		complete_tooltip = {
			every_state = {
				limit = { has_state_flag = KPD_construction_of_a_communist_society_2AF }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
		completion_reward = {
			if = {
				limit = {
					any_character = {
						is_country_leader = yes
						NOT = {
							has_trait = staunch_stalinist
						}
					}
				}
				add_country_leader_trait = staunch_stalinist
			}
			else = {
				add_stability = 0.15
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
					NOT = { has_state_flag = KPD_construction_of_a_communist_society_2AF }
				}
				set_state_flag = KPD_construction_of_a_communist_society_2AF
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
					NOT = { has_state_flag = KPD_construction_of_a_communist_society_2AF }
				}
				set_state_flag = KPD_construction_of_a_communist_society_2AF
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
	}
	focus = { #우파 지원
		id = KPD_right_wing_support
		icon = GFX_focus_prc_agrarian_socialism
		cost = 10
		prerequisite = {
			focus = KPD_removal_of_thalmann
		}
		mutually_exclusive = {
			focus = KPD_radical_left_wing_support
			focus = KPD_equal_relationship
		}
		x = 4
		y = 2
		relative_position_id = KPD_removal_of_thalmann
		available = {
			if = {
				limit = { has_character = KPD_richard_sorge }
				NOT = {
					KPD_richard_sorge = {
						is_hired_as_advisor = yes
					}
				}
			}
		}
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			SOV = {
				add_opinion_modifier = {
					target = KPD
					modifier = medium_decrease
				}
				add_ai_strategy = {
					type = befriend
					id = ROOT
					value = -50
				}
			}
			RED = {
				add_opinion_modifier = {
					target = KPD
					modifier = medium_decrease
				}
				add_ai_strategy = {
					type = befriend
					id = ROOT
					value = -50
				}
			}
		}
	}
	focus = { #급진좌파 지원
		id = KPD_radical_left_wing_support
		icon = GFX_goal_support_fourth_int
		cost = 10
		prerequisite = {
			focus = KPD_removal_of_thalmann
		}
		mutually_exclusive = {
			focus = KPD_right_wing_support
			focus = KPD_equal_relationship
		}
		x = -4
		y = 2
		relative_position_id = KPD_removal_of_thalmann
		available = {
			if = {
				limit = { has_character = KPD_richard_sorge }
				NOT = {
					KPD_richard_sorge = {
						is_hired_as_advisor = yes
					}
				}
			}
		}
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			effect_tooltip = {
				remove_ideas = KPD_coalition_split_accelerates
			}
			hidden_effect = {
				if = {
					limit = { has_idea = KPD_coalition_split_accelerates }
					remove_ideas = KPD_coalition_split_accelerates
				}
				if = {
					limit = { has_idea = KPD_conflict_with_the_social_democratic_left }
					remove_ideas = KPD_conflict_with_the_social_democratic_left
				}
			}
			add_timed_idea = {
				idea = KPD_power_shift_within_the_party
				days = 120
			}
			IF = { limit = { has_character = KPD_max_seydewitz } KPD_max_seydewitz = { retire = yes } }
			IF = { limit = { has_character = KPD_heinrich_brandler } KPD_heinrich_brandler = { retire = yes } }
			IF = { limit = { has_character = KPD_august_thalheimer } KPD_august_thalheimer = { retire = yes } }
		}
	}
	focus = { #트로츠키 동지와 함께
		id = KPD_with_comrade_trotsky
		icon = GFX_focus_fra_loyalty_trotzky
		cost = 5
		prerequisite = {
			focus = KPD_radical_left_wing_support
		}
		x = 0
		y = 1
		relative_position_id = KPD_radical_left_wing_support
		available = {
			is_subject = no
			is_in_faction = no
			if = {
				limit = { 
					RED = { has_completed_focus = RED_accept_trotskism }
				}
				not = { has_war_with = RED }
				RED = { 
					hidden_trigger = { 
						exists = yes
						has_capitulated = no
					}
					has_government = communism 
					is_faction_leader = yes 
					has_civil_war = no	
					NOT = { has_war_with = ROOT }
					has_completed_focus = RED_accept_trotskism	
				}
			}
			else_if = {
				limit = { 
					MEX = {
						has_country_leader = {
							character = MEX_leon_trotsky
							ruling_only = yes
						}
					}
				}
				not = { has_war_with = MEX }
				MEX = { 
					hidden_trigger = { 
						exists = yes
						has_capitulated = no
					}
					has_government = communism 
					is_faction_leader = yes 
					has_civil_war = no	
					NOT = { has_war_with = ROOT }
					has_country_leader = {
						character = MEX_leon_trotsky
						ruling_only = yes
					}
				}
			}
			else = {
				NOT = {
					has_global_flag = flag_trotsky_dead
					has_global_flag = flag_trotsky_has_returned_to_ussr_from_mexico
					hidden_trigger = {
						has_global_flag = trotsky_exile_mexico
						has_global_flag = trotsky_in_norwegian_government
						has_global_flag = trotsky_jailed_in_norway
						has_global_flag = flag_trotsky_returning_to_ussr_from_mexico
						has_global_flag = flag_trotsky_returning_to_ussr_from_norway
					}
				}
			}
		}
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			if = {
				limit = { 
					RED = { has_completed_focus = RED_accept_trotskism }
				}
				RED = { country_event = generic.2 }
			}
			else_if = {
				limit = { 
					MEX = {
						has_country_leader = {
							character = MEX_leon_trotsky
							ruling_only = yes
						}
					}
				}
				MEX = { country_event = generic.2 }
			}
			else = {
				set_country_flag = KPD_leon_trotsky_flag
				custom_effect_tooltip = available_political_advisor
				show_ideas_tooltip = KPD_lev_trotsky_pol
				custom_effect_tooltip = available_chief_of_army
				show_ideas_tooltip = KPD_lev_trotsky_mil
			}
			SOV = {
				add_opinion_modifier = {
					target = KPD
					modifier = large_decrease
				}
				add_ai_strategy = {
					type = befriend
					id = ROOT
					value = -200
				}
				add_ai_strategy = {
					type = antagonize
					id = ROOT
					value = 100
				}
			}
		}
	}
	focus = {
		#중공업 개발
		id = KPD_development_of_heavy_industry
		icon = GFX_goal_generic_production2
		cost = 5
		prerequisite = {
			focus = KPD_with_comrade_trotsky
			focus = KPD_technological_cooperation_with_the_soviet_union
		}
		x = 1
		y = 1
		available = {
		}
		relative_position_id = KPD_technological_cooperation_with_the_soviet_union
		
		complete_tooltip = {
			every_state = {
				limit = { has_state_flag = KPD_development_of_heavy_industry_1IC }
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
					NOT = { has_state_flag = KPD_development_of_heavy_industry_1IC }
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				set_state_flag = KPD_development_of_heavy_industry_1IC
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
					NOT = { has_state_flag = KPD_development_of_heavy_industry_1IC }
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				set_state_flag = KPD_development_of_heavy_industry_1IC
			}
		}
	}
	focus = {
		#집산화
		id = KPD_collectivization
		icon = GFX_goal_generic_soviet_construction
		cost = 5
		prerequisite = {
			focus = KPD_development_of_heavy_industry
		}
		x = 0
		y = 1
		available = {
		}
		relative_position_id = KPD_development_of_heavy_industry
		completion_reward = {
			add_stability = -0.05
			add_war_support = -0.05

			if = { #Target a rural state with no civs
				limit = {
					any_owned_state = {
						OR = {
							has_state_category = town #Developed Rural Region
							has_state_category = rural #Rural Region
						}
						is_fully_controlled_by = ROOT
						industrial_complex < 1
						arms_factory < 1
						dockyard < 1
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
				}
				random_owned_state = {
					limit = {
						OR = {
							has_state_category = town #Developed Rural Region
							has_state_category = rural #Rural Region
						}
						is_fully_controlled_by = ROOT
						industrial_complex < 1
						arms_factory < 1
						dockyard < 1
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
			}
			else_if = { #Failsafe 1: Target a random rural state
				limit = {
					any_owned_state = {
						OR = {
							has_state_category = town #Developed Rural Region
							has_state_category = rural #Rural Region
						}
						is_fully_controlled_by = ROOT
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
				}
				random_owned_state = {
					limit = {
						OR = {
							has_state_category = town #Developed Rural Region
							has_state_category = rural #Rural Region
						}
						is_fully_controlled_by = ROOT
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
			}
			else_if = { #Failsafe 2: Target a random state
				limit = {
					any_owned_state = {
						is_fully_controlled_by = ROOT
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
				}
				random_owned_state = {
					limit = {
						is_fully_controlled_by = ROOT
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
			}

			SOV_paranoia_medium_decrease_effect = yes
		}
	}
	focus = { #유로코뮤니즘
		id = KPD_de_stalinism
		icon = GFX_focus_usa_focus_on_europe
		cost = 5
		prerequisite = {
			focus = KPD_right_wing_support
		}
		x = 1
		y = 1
		relative_position_id = KPD_right_wing_support
		available = {
		}
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
		}
	}
	focus = { #국제 관계 개선
		id = KPD_improved_international_relations
		icon = GFX_focus_ARG_join_the_allies
		cost = 10
		prerequisite = {
			focus = KPD_victory_of_the_social_democratic_party
		}
		x = 0
		y = 1
		relative_position_id = KPD_victory_of_the_social_democratic_party
		available = {
		}
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
		}
	}
	focus = { #바이마르 헌법
		id = KPD_weimar_constitution
		icon = GFX_focus_generic_treaty
		cost = 10
		prerequisite = {
			focus = KPD_victory_of_the_social_democratic_party
		}
		x = 1
		y = 2
		relative_position_id = KPD_victory_of_the_social_democratic_party
		available = {
		}
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
		}
	}
	focus = { #기업 재건
		id = KPD_corporate_reconstruction
		icon = GFX_focus_generic_low_cost_housing
		cost = 10
		prerequisite = {
			focus = KPD_improved_international_relations
		}
		x = -1
		y = 2
		relative_position_id = KPD_victory_of_the_social_democratic_party
		available = {
		}
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
		}
	}
	focus = { #흩어진 돈 찾기
		id = KPD_finding_scattered_money
		icon = GFX_goal_generic_consumer_goods
		cost = 10
		prerequisite = {
			focus = KPD_corporate_reconstruction
		}
		x = 0
		y = 1
		relative_position_id = KPD_corporate_reconstruction
		available = {
		}
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
		}
	}
	focus = { #해외 자본 유치
		id = KPD_attracting_foreign_capital
		icon = GFX_goal_generic_intelligence_exchange
		cost = 5
		prerequisite = {
			focus = KPD_de_stalinism
			focus = KPD_finding_scattered_money
		}
		x = 0
		y = 2
		relative_position_id = KPD_corporate_reconstruction
		available = {
		}
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		complete_tooltip = {
			every_state = {
				limit = { has_state_flag = KPD_attracting_foreign_capital_1IC }
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
					NOT = { has_state_flag = KPD_attracting_foreign_capital_1IC }
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				set_state_flag = KPD_attracting_foreign_capital_1IC
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
					NOT = { has_state_flag = KPD_attracting_foreign_capital_1IC }
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				set_state_flag = KPD_attracting_foreign_capital_1IC
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
					NOT = { has_state_flag = KPD_attracting_foreign_capital_1IC }
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				set_state_flag = KPD_attracting_foreign_capital_1IC
			}
		}
	}
	focus = { #제2인터내셔널
		id = KPD_second_international
		icon = GFX_focus_generic_anti_fascist_diplomacy
		cost = 5
		prerequisite = {
			focus = KPD_de_stalinism
			focus = KPD_finding_scattered_money
		}
		x = 0
		y = 1
		relative_position_id = KPD_de_stalinism
		available = {
		}
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
		}
	}
	focus = { #로자 룩셈부르크의 유산
		id = KPD_rosa_luxemburgs_legacy
		icon = GFX_focus_spr_masters_of_our_own_fate
		cost = 5
		prerequisite = {
			focus = KPD_right_wing_support
		}
		x = -2
		y = 2
		relative_position_id = KPD_right_wing_support
		available = {
		}
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
		}
	}
	focus = { #로자 룩셈부르크의 유산
		id = KPD_domination_of_the_social_democratic_party
		icon = GFX_focus_spr_class_war
		cost = 5
		prerequisite = {
			focus = KPD_rosa_luxemburgs_legacy
		}
		mutually_exclusive = {
			focus = KPD_defensive_democracy
		}
		x = -1
		y = 3
		relative_position_id = KPD_rosa_luxemburgs_legacy
		available = {
		}
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
		}
	}
	focus = { #파시스트의 위협 우선시
		id = KPD_anti_fascism
		icon = GFX_focus_focus_fra_fascist_threat
		cost = 5
		prerequisite = {
			focus = KPD_second_international
		}
		mutually_exclusive = {
			focus = KPD_anti_stalinism
		}
		x = -1
		y = 1
		relative_position_id = KPD_second_international
		available = {
		}
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
		}
	}
	focus = { #동방의 팽창 견제
		id = KPD_anti_stalinism
		icon = GFX_focus_attack_soviet
		cost = 5
		prerequisite = {
			focus = KPD_second_international
		}
		mutually_exclusive = {
			focus = KPD_anti_fascism
		}
		x = 1
		y = 1
		relative_position_id = KPD_second_international
		available = {
		}
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
		}
	}
	focus = { #반파시즘 민병대
		id = KPD_anti_fascist_militia
		icon = GFX_focus_spr_the_anti_fascist_workers_revolution
		cost = 5
		prerequisite = {
			focus = KPD_anti_fascism
		}
		x = 0
		y = 1
		relative_position_id = KPD_anti_fascism
		available = {
		}
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
		}
	}
	focus = { #당내 스탈린주의자 축출
		id = KPD_expelling_stalinists_within_the_party
		icon = GFX_focus_SOV_the_last_purge
		cost = 5
		prerequisite = {
			focus = KPD_anti_stalinism
		}
		x = 0
		y = 1
		relative_position_id = KPD_anti_stalinism
		available = {
		}
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			IF = { limit = { has_character = KPD_thalman } KPD_thalman = { retire = yes } }
			IF = { limit = { has_character = KPD_pieck } KPD_pieck = { retire = yes } }
			IF = { limit = { has_character = KPD_walter } KPD_walter = { retire = yes } }
		}
	}
	focus = { #방어적 민주주의
		id = KPD_defensive_democracy
		icon = GFX_focus_generic_strike_at_democracy1
		cost = 10
		prerequisite = {
			focus = KPD_anti_fascist_militia
			focus = KPD_expelling_stalinists_within_the_party
		}
		mutually_exclusive = {
			focus = KPD_domination_of_the_social_democratic_party
		}
		x = -1
		y = 2
		relative_position_id = KPD_anti_stalinism
		available = {
		}
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
		}
	}
	focus = { #자유 독일 노동조합
		id = KPD_free_german_trade_union
		icon = GFX_focus_por_workers_of_iberia
		cost = 5
		prerequisite = {
			focus = KPD_radical_left_wing_support
			focus = KPD_right_wing_support
		}
		x = 3
		y = 1
		relative_position_id = KPD_radical_left_wing_support
		available = {
		}
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
			country_event = KPD_event.12
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = KPD_bernhard_goring_idea

			custom_effect_tooltip = KPD_free_german_trade_union_tt
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = KPD_hans_jendretzky_idea
		}
	}
	focus = { #노동조합의 주도적 역할
		id = KPD_leading_role_of_trade_unions
		icon = GFX_focus_generic_workers_and_farmers_rise
		cost = 5
		prerequisite = {
			focus = KPD_free_german_trade_union
		}
		x = 0
		y = 1
		relative_position_id = KPD_free_german_trade_union
		available = {
		}
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
		}
	}
	focus = { #아래로부터의 경제
		id = KPD_bottom_up_economy
		icon = GFX_goal_generic_construction2
		cost = 5
		prerequisite = {
			focus = KPD_leading_role_of_trade_unions
		}
		x = 0
		y = 2
		relative_position_id = KPD_free_german_trade_union
		available = {
		}
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
		}
	}
	focus = { #5개년 계획
		id = KPD_five_year_plan
		icon = GFX_goal_generic_construct_civ_factory
		cost = 10
		prerequisite = {
			focus = KPD_collectivization
		}
		x = 0
		y = 1
		relative_position_id = KPD_collectivization
		available = {
		}
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
		}
	}
	focus = { #세계혁명 지원
		id = KPD_support_for_world_revolution
		icon = GFX_goal_generic_propaganda
		cost = 5
		prerequisite = {
			focus = KPD_with_comrade_trotsky
		}
		x = 0
		y = 2
		relative_position_id = KPD_with_comrade_trotsky
		available = {
		}
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
		}
	}
	focus = { #트로츠키주의 강령
		id = KPD_trotsky_s_program
		icon = GFX_goal_generic_forceful_treaty
		cost = 5
		prerequisite = {
			focus = KPD_support_for_world_revolution
		}
		x = -1
		y = 1
		relative_position_id = KPD_support_for_world_revolution
		available = {
		}
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
		}
	}
	focus = { #소련 망명자 초청
		id = KPD_inviting_soviet_defectors
		icon = GFX_focus_eng_special_air_service
		cost = 5
		prerequisite = {
			focus = KPD_support_for_world_revolution
		}
		x = 1
		y = 1
		relative_position_id = KPD_support_for_world_revolution
		available = {
		}
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		completion_reward = {
		}
	}
	focus = { #신소련 건설
		id = KPD_building_the_new_soviet_union
		icon = GFX_focus_generic_join_comintern
		cost = 10
		prerequisite = {
			focus = KPD_trotsky_s_program
			focus = KPD_inviting_soviet_defectors
		}
		x = 0
		y = 2
		relative_position_id = KPD_support_for_world_revolution
		available = {
			if = {
				limit = { 
					RED = { has_completed_focus = RED_accept_trotskism }
				}
				is_in_faction_with = RED
			}
			else_if = {
				limit = { 
					MEX = {
						has_country_leader = {
							character = MEX_leon_trotsky
							ruling_only = yes
						}
					}
				}
				is_in_faction_with = MEX
			}
		}
		search_filters = {
			FOCUS_FILTER_POLITICAL
		}
		complete_tooltip = {
			every_state = {
				limit = {
					has_state_flag = KPD_building_the_new_soviet_union_1IC1AF
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
		completion_reward = {
			add_stability = -0.05
			set_cosmetic_tag = KPD_soviets
			if = {
				limit = { 
					OR = {
						RED = { has_completed_focus = RED_accept_trotskism }
						MEX = {
							has_country_leader = {
								character = MEX_leon_trotsky
								ruling_only = yes
							}
						}
					}
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
						NOT = { has_state_flag = KPD_building_the_new_soviet_union_1IC1AF }
					}
					set_state_flag = KPD_building_the_new_soviet_union_1IC1AF
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
						NOT = { has_state_flag = KPD_building_the_new_soviet_union_1IC1AF }
					}
					set_state_flag = KPD_building_the_new_soviet_union_1IC1AF
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
						NOT = { has_state_flag = KPD_development_of_heavy_industry_1IC }
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
			else = {
				add_country_leader_role = {
					character = KPD_lev_trotsky
					promote_leader = yes
					country_leader = {
						ideology = trotskyism
						traits = {
							communist_theorist
						}
						expire="1965.1.1.1"
					}
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
						NOT = { has_state_flag = KPD_development_of_heavy_industry_1IC }
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
						NOT = { has_state_flag = KPD_development_of_heavy_industry_1IC }
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
		}
	}
	focus = {
		#붉은 동유럽
		id = KPD_red_eastern_europe
		icon = GFX_focus_SWE_the_threat_of_the_iron_curtain
		cost = 5
		prerequisite = {
			focus = KPD_construction_of_a_communist_society
			focus = KPD_building_the_new_soviet_union
		}
		x = 3
		y = 1
		available = {
			is_subject = no
			has_government = communism
			has_army_manpower = { size > 749999 }
		}
		relative_position_id = KPD_construction_of_a_communist_society
		completion_reward = {
			if = {
				limit = {
					POL = {
						exists = yes
						has_capitulated = no
						NOT = {
							has_government = communism
							is_in_faction_with = ROOT
							is_subject_of = ROOT
						}
					}
				}
				create_wargoal = {
					target = POL
					type = topple_government
				}
			}
			if = {
				limit = {
					SLO = {
						exists = yes
						has_capitulated = no
						NOT = {
							has_government = communism
							is_in_faction_with = ROOT
							is_subject_of = ROOT
						}
					}
				}
				create_wargoal = {
					target = SLO
					type = topple_government
				}
			}
			if = {
				limit = {
					HUN = {
						exists = yes
						has_capitulated = no
						NOT = {
							has_government = communism
							is_in_faction_with = ROOT
							is_subject_of = ROOT
						}
					}
				}
				create_wargoal = {
					target = HUN
					type = topple_government
				}
			}
			if = {
				limit = {
					ROM = {
						exists = yes
						has_capitulated = no
						NOT = {
							has_government = communism
							is_in_faction_with = ROOT
							is_subject_of = ROOT
						}
					}
				}
				create_wargoal = {
					target = ROM
					type = topple_government
				}
			}
			if = {
				limit = {
					HYA = {
						exists = yes
						has_capitulated = no
						NOT = {
							has_government = communism
							is_in_faction_with = ROOT
							is_subject_of = ROOT
						}
					}
				}
				create_wargoal = {
					target = HYA
					type = liberate_wargoal
				}
			}
			if = {
				limit = {
					ABY = {
						exists = yes
						has_capitulated = no
						NOT = {
							has_government = communism
							is_in_faction_with = ROOT
							is_subject_of = ROOT
						}
					}
				}
				create_wargoal = {
					target = ABY
					type = liberate_wargoal
				}
			}
			if = {
				limit = {
					SHA = {
						exists = yes
						has_capitulated = no
						NOT = {
							has_government = communism
							is_in_faction_with = ROOT
							is_subject_of = ROOT
						}
					}
				}
				create_wargoal = {
					target = SHA
					type = liberate_wargoal
				}
			}
		}
	}
}
