on_actions = {
	on_ruling_party_change = {
		effect = {
			if = {
				limit = {
					has_country_flag = BA_target_of_intensive_care_flag
					OR = {
						has_idea = BA_student_conscription_idea
						has_idea = BA_student_conscription_week_idea
					}
					NOT = {
						is_female = yes
					}
				}
				retire_country_leader = yes
			}
		}
	}
	on_puppet = {
		effect = {
			if = {
				limit = {
					has_template = "Halo Infantry Division"
				}
				BA_halo_infantry_ban_effect = yes
				FROM = {
					if = {
						limit = {
							has_template = "Halo Infantry Division"
						}
						add_to_variable = { FROM.halo_infantry_cap = 2 }
						set_division_template_cap = {
							division_template = "Halo Infantry Division"
							division_cap = FROM.halo_infantry_cap
						}
					}
				}
			}

			if = {
				limit = {
					any_country = {
						original_tag = ROOT
						has_idea = BA_student_conscription_idea
					}
				}
				add_ideas = BA_student_conscription_idea
				set_country_flag = BA_target_of_intensive_care_flag
			}
			if = {
				limit = {
					any_country = {
						original_tag = ROOT
						has_idea = BA_student_conscription_week_idea
					}
				}
				add_ideas = BA_student_conscription_week_idea
				set_country_flag = BA_target_of_intensive_care_flag
			}
		}
	}
	on_release_as_puppet = {
		effect = {
			if = {
				limit = {
					has_template = "Halo Infantry Division"
				}
				BA_halo_infantry_ban_effect = yes
				FROM = {
					if = {
						limit = {
							has_template = "Halo Infantry Division"
						}
						add_to_variable = { FROM.halo_infantry_cap = 2 }
						set_division_template_cap = {
							division_template = "Halo Infantry Division"
							division_cap = FROM.halo_infantry_cap
						}
					}
				}
			}
		}
	}
	on_subject_free = {
		effect = {
			BA_halo_infantry_unban_effect = yes
		}
	}
	on_annex = {
		effect = {
			if = {
				limit = {
					original_tag = "TRM"
				}
				FROM = {
					if = {
						limit = {
							Kivotos_school_tag = yes
						}
					}
				}		
				set_country_flag = TRM_annex_kivotos_school
			}
			if = { 
				limit = {
					original_tag = "BEL"
					6 = {
						is_owned_by = ROOT
					}
					34 = {
						is_owned_by = ROOT
					}
				}
				country_event = { id = BEL_recov_events.5 }		
			}
		}
	}
}