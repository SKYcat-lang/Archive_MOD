BA_halo_infantry_cap_edit_effect = { 
	#이것은 수정하려는 국가 범위에서 변수와 함께 실행해야 합니다. 그리고 이 효과는 히든 이펙트로 감싸져 있기에 보이지 않습니다.
	#그러기에 BA_main_I_english.yml 에 정의된 kivotos_halo_add6_tt와 같은 이펙트 툴팁과 함께 사용해야 합니다
	#예시:
	# custom_effect_tooltip = kivotos_halo_add6_tt
	# set_variable = { BA_halo_infantry_cap_edit_var = 6 }
	# BA_halo_infantry_cap_edit_effect = yes
	#
	hidden_effect = {
		if = {
			limit = {
				NOT = { has_country_flag = BA_ban_halo_infantry_flag }
			}
			if = {
				limit = {
					has_template = "Halo Infantry Division"
				}
				add_to_variable = { halo_infantry_cap = BA_halo_infantry_cap_edit_var }
				set_division_template_cap = {
					division_template = "Halo Infantry Division"
					division_cap = halo_infantry_cap
				}
			}
			else_if = {
				limit = { has_tech = kivotos_infantry_weapons }
				division_template = {
					name = "Halo Infantry Division"		
					division_names_group = BA_HAL_01
					is_locked = yes
					force_allow_recruiting = yes
					division_cap = 0
					regiments = {
						halo_infantry = { x = 0 y = 0 }
						halo_infantry = { x = 0 y = 1 }
						halo_infantry = { x = 0 y = 2 }
						halo_infantry = { x = 1 y = 0 }
						halo_infantry = { x = 1 y = 1 }
						halo_infantry = { x = 1 y = 2 }
						halo_infantry = { x = 2 y = 0 }
						halo_infantry = { x = 2 y = 1 }
						halo_infantry = { x = 2 y = 2 }
					}
					support = {
						halo_recon = { x = 0 y = 0 }
						engineer = { x = 0 y = 1 }
						artillery = { x = 0 y = 2 }
						anti_air = { x = 0 y = 3 }
					}
				}
				add_to_variable = { halo_infantry_cap = BA_halo_infantry_cap_edit_var }
				set_division_template_cap = {
					division_template = "Halo Infantry Division"
					division_cap = halo_infantry_cap
				}
			}
		}
		else = {
			set_division_template_cap = {
				division_template = "Halo Infantry Division"
				division_cap = 0
			}
		}
		set_variable = { BA_halo_infantry_cap_edit_var = 0 }
	}
}

BA_halo_special_forces_cap_edit_effect = { 
	#이것은 수정하려는 국가 범위에서 변수와 함께 실행해야 합니다. 그리고 이 효과는 히든 이펙트로 감싸져 있기에 보이지 않습니다.
	#그러기에 이벤트 툴팁과 함께 사용해야 합니다다
	#예시:
	# custom_effect_tooltip = kivotos_halo_special_forces_add6_tt
	# set_variable = { BA_halo_special_forces_cap_edit_var = 6 }
	# BA_halo_special_forces_cap_edit_effect = yes
	#
	hidden_effect = {
		if = {
			limit = {
				NOT = { has_country_flag = BA_ban_halo_infantry_flag }
			}
			if = {
				limit = {
					has_template = "Halo Special Forces"
				}
				add_to_variable = { halo_special_forces_cap = BA_halo_special_forces_cap_edit_var }
				set_division_template_cap = {
					division_template = "Halo Special Forces"
					division_cap = halo_special_forces_cap
				}
			}
			else_if = {
				limit = { has_tech = kivotos_infantry_weapons }
				division_template = {
					name = "Halo Special Forces"		
					division_names_group = BA_HAL_01
					is_locked = yes
					force_allow_recruiting = yes
					division_cap = 0
					regiments = {
						halo_special_forces = { x = 0 y = 0 }
						halo_special_forces = { x = 0 y = 1 }
						halo_special_forces = { x = 0 y = 2 }
						halo_special_forces = { x = 1 y = 0 }
						halo_special_forces = { x = 1 y = 1 }
						halo_special_forces = { x = 1 y = 2 }
						halo_special_forces = { x = 2 y = 0 }
						halo_special_forces = { x = 2 y = 1 }
						halo_special_forces = { x = 2 y = 2 }
					}
					support = {
						halo_recon = { x = 0 y = 0 }
						engineer = { x = 0 y = 1 }
						artillery = { x = 0 y = 2 }
						anti_air = { x = 0 y = 3 }
					}
				}
				add_to_variable = { halo_special_forces_cap = BA_halo_special_forces_cap_edit_var }
				set_division_template_cap = {
					division_template = "Halo Special Forces"
					division_cap = halo_special_forces_cap
				}
			}
		}
		else = {
			set_division_template_cap = {
				division_template = "Halo Special Forces"
				division_cap = 0
			}
		}
		set_variable = { BA_halo_special_forces_cap_edit_var = 0 }
	}
}

BA_halo_infantry_ban_effect = { #실행된 범위의 헤일로 보병을 0으로 만들고 헤일로 보병 사단 추가 효과에 영향을 받지 않게 만듭니다.
	custom_effect_tooltip = BA_halo_infantry_ban_effect_tt
	hidden_effect = {
		set_country_flag = BA_ban_halo_infantry_flag # 헤일로 보병 밴
		if = {
			limit = {
				has_template = "Halo Infantry Division"
			}
			set_division_template_cap = {
				division_template = "Halo Infantry Division"
				division_cap = 0
			}
		}
		if = {
			limit = {
				has_template = "Halo Special Forces"
			}
			set_division_template_cap = {
				division_template = "Halo Special Forces"
				division_cap = 0
			}
		}
	}
}

BA_halo_infantry_unban_effect = { #이것은 단순히 실행된 범위의 헤일로 보병 밴을 제거합니다
	hidden_effect = {
		if = { # 헤일로 보병 밴 해제 하는 것
			limit = { has_country_flag = BA_ban_halo_infantry_flag }
			clr_country_flag = BA_ban_halo_infantry_flag # 헤일로 보병 밴 해제
		}
		if = {
			limit = {
				has_template = "Halo Infantry Division"
			}
			set_division_template_cap = {
				division_template = "Halo Infantry Division"
				division_cap = halo_infantry_cap
			}
		}
		else_if = { #만약 편제가 없지만 연구가 되어있다면 편제를 만들어 줍니다.
			limit = { has_tech = kivotos_infantry_weapons }
			hidden_effect = {
				set_variable = { ROOT.halo_infantry_cap = 0 } # 사단 제한, 헤일로 보병의 사단 제한과 같아야 함'
				if = {
					limit = {
						NOT = { has_template = "Halo Infantry Division" }
					}
					
					division_template = {
						name = "Halo Infantry Division"		
						division_names_group = BA_HAL_01
						is_locked = yes
						force_allow_recruiting = yes
						division_cap = 0
						regiments = {
							halo_infantry = { x = 0 y = 0 }
							halo_infantry = { x = 0 y = 1 }
							halo_infantry = { x = 0 y = 2 }
							halo_infantry = { x = 1 y = 0 }
							halo_infantry = { x = 1 y = 1 }
							halo_infantry = { x = 1 y = 2 }
							halo_infantry = { x = 2 y = 0 }
							halo_infantry = { x = 2 y = 1 }
							halo_infantry = { x = 2 y = 2 }
						}
						support = {
							halo_recon = { x = 0 y = 0 }
							engineer = { x = 0 y = 1 }
							artillery = { x = 0 y = 2 }
							anti_air = { x = 0 y = 3 }
						}
					}
				}
				set_variable = { BA_halo_infantry_cap_edit_var = 6 }
				BA_halo_infantry_cap_edit_effect = yes
			}
		}

		if = {
			limit = {
				has_template = "Halo Special Forces"
			}
			set_division_template_cap = {
				division_template = "Halo Special Forces"
				division_cap = halo_special_forces_cap
			}
		}
		else_if = { #만약 편제가 없지만 연구가 되어있다면 편제를 만들어 줍니다.
			limit = { has_tech = kivotos_halo_special_forces }
			hidden_effect = {
				hidden_effect = {
					set_variable = { ROOT.halo_special_forces_cap = 0 } # 사단 제한, 헤일로 특수부대의 사단 제한과 같아야 함'
					if = {
						limit = {
							NOT = { has_template = "Halo Special Forces" }
						}
						
						division_template = {
							name = "Halo Special Forces"		
							division_names_group = BA_HAL_01
							is_locked = yes
							force_allow_recruiting = yes
							division_cap = 0
							regiments = {
								halo_special_forces = { x = 0 y = 0 }
								halo_special_forces = { x = 0 y = 1 }
								halo_special_forces = { x = 0 y = 2 }
								halo_special_forces = { x = 1 y = 0 }
								halo_special_forces = { x = 1 y = 1 }
								halo_special_forces = { x = 1 y = 2 }
								halo_special_forces = { x = 2 y = 0 }
								halo_special_forces = { x = 2 y = 1 }
								halo_special_forces = { x = 2 y = 2 }
							}
							support = {
								halo_recon = { x = 0 y = 0 }
								engineer = { x = 0 y = 1 }
								artillery = { x = 0 y = 2 }
								anti_air = { x = 0 y = 3 }
							}
						}
					}
					set_variable = { BA_halo_special_forces_cap_edit_var = 4 }
					BA_halo_special_forces_cap_edit_effect = yes
				}
			}
		}
	}
}

BA_puppet_on_action_effect = { #이것은 종주국이 ROOT 일때 괴뢰국 범위(EX: TAG = { BA_puppet_on_action_effect = yes }) 에서 실행해야 합니다.
	custom_effect_tooltip = BA_puppet_on_action_effect_tt #이것은 툴팁입니다.
	hidden_effect = {
		BA_halo_infantry_ban_effect = yes
		if = {
			limit = {
				has_template = "Halo Infantry Division"
			}
			ROOT = { #ROOT에 효과를 주기 때문에, ROOT가 종주국일 때 실행해야 합니다.
				if = {
					limit = {
						has_template = "Halo Infantry Division"
					}
					add_to_variable = {
						ROOT.halo_infantry_cap = 2
					}
					set_division_template_cap = {
						division_template = "Halo Infantry Division"
						division_cap = ROOT.halo_infantry_cap
					}
				}
			}
		}
	}
}

BA_ban_democratic_effect = {
	set_party_name = { 
		ideology = democratic
		long_name = DONDOTHAT
		name = DONDOTHAT_short
	}
	set_country_flag = banned_democratic_flag
	set_country_flag = BA_ban_democratic_parties_flag
}
BA_ban_communism_effect = {
	set_party_name = { 
		ideology = communism 
		long_name = DONDOTHAT
		name = DONDOTHAT_short
	}
	set_country_flag = banned_communism_flag
	set_country_flag = BA_ban_communism_parties_flag
}
BA_ban_fascism_effect = {
	set_party_name = { 
		ideology = fascism
		long_name = DONDOTHAT
		name = DONDOTHAT_short
	}
	set_country_flag = banned_fascism_flag
	set_country_flag = BA_ban_fascism_parties_flag
}
BA_ban_neutrality_effect = {
	set_party_name = { 
		ideology = neutrality 
		long_name = DONDOTHAT
		name = DONDOTHAT_short
	}
	set_country_flag = BA_ban_neutrality_parties_flag
}
BA_democratic_party_name_rerolling = {
	random_list = {
		10 = {
			set_party_name = {
				ideology = democratic
				long_name = BA_democratic_party_name_rerolling_0
				name = BA_democratic_party_name_rerolling_0
			}
		}
		10 = {
			set_party_name = {
				ideology = democratic
				long_name = BA_democratic_party_name_rerolling_1
				name = BA_democratic_party_name_rerolling_1
			}
		}
		10 = {
			set_party_name = {
				ideology = democratic
				long_name = BA_democratic_party_name_rerolling_2
				name = BA_democratic_party_name_rerolling_2
			}
		}
		10 = {
			set_party_name = {
				ideology = democratic
				long_name = BA_democratic_party_name_rerolling_3
				name = BA_democratic_party_name_rerolling_3
			}
		}
		25 = {
			modifier = {
				factor = 0
				NOT = { Kivotos_school_tag = yes }
			}
			set_party_name = {
				ideology = democratic
				long_name = BA_democratic_party_name_rerolling_4
				name = BA_democratic_party_name_rerolling_4
			}
		}
		25 = {
			modifier = {
				factor = 0
				NOT = { Kivotos_school_tag = yes }
			}
			set_party_name = {
				ideology = democratic
				long_name = BA_democratic_party_name_rerolling_5
				name = BA_democratic_party_name_rerolling_5
			}
		}
	}
}
BA_communism_party_name_rerolling = {
	random_list = {
		10 = {
			set_party_name = {
				ideology = communism
				long_name = BA_communism_party_name_rerolling_0
				name = BA_communism_party_name_rerolling_0
			}
		}
		10 = {
			set_party_name = {
				ideology = communism
				long_name = BA_communism_party_name_rerolling_1
				name = BA_communism_party_name_rerolling_1
			}
		}
		10 = {
			set_party_name = {
				ideology = communism
				long_name = BA_communism_party_name_rerolling_2
				name = BA_communism_party_name_rerolling_2
			}
		}
		10 = {
			set_party_name = {
				ideology = communism
				long_name = BA_communism_party_name_rerolling_3
				name = BA_communism_party_name_rerolling_3
			}
		}
		25 = {
			modifier = {
				factor = 0
				NOT = { Kivotos_school_tag = yes }
			}
			set_party_name = {
				ideology = communism
				long_name = BA_communism_party_name_rerolling_4
				name = BA_communism_party_name_rerolling_4
			}
		}
		25 = {
			modifier = {
				factor = 0
				NOT = { Kivotos_school_tag = yes }
			}
			set_party_name = {
				ideology = communism
				long_name = BA_communism_party_name_rerolling_5
				name = BA_communism_party_name_rerolling_5
			}
		}
	}
}
BA_fascism_party_name_rerolling = {
	random_list = {
		10 = {
			set_party_name = {
				ideology = fascism
				long_name = BA_fascism_party_name_rerolling_0
				name = BA_fascism_party_name_rerolling_0
			}
		}
		10 = {
			set_party_name = {
				ideology = fascism
				long_name = BA_fascism_party_name_rerolling_1
				name = BA_fascism_party_name_rerolling_1
			}
		}
		10 = {
			set_party_name = {
				ideology = fascism
				long_name = BA_fascism_party_name_rerolling_2
				name = BA_fascism_party_name_rerolling_2
			}
		}
		10 = {
			set_party_name = {
				ideology = fascism
				long_name = BA_fascism_party_name_rerolling_3
				name = BA_fascism_party_name_rerolling_3
			}
		}
		25 = {
			modifier = {
				factor = 0
				NOT = { Kivotos_school_tag = yes }
			}
			set_party_name = {
				ideology = fascism
				long_name = BA_fascism_party_name_rerolling_4
				name = BA_fascism_party_name_rerolling_4
			}
		}
		25 = {
			modifier = {
				factor = 0
				NOT = { Kivotos_school_tag = yes }
			}
			set_party_name = {
				ideology = fascism
				long_name = BA_fascism_party_name_rerolling_5
				name = BA_fascism_party_name_rerolling_5
			}
		}
	}
}
BA_neutrality_party_name_rerolling = {
	random_list = {
		10 = {
			set_party_name = {
				ideology = neutrality
				long_name = BA_neutrality_party_name_rerolling_0
				name = BA_neutrality_party_name_rerolling_0
			}
		}
		10 = {
			set_party_name = {
				ideology = neutrality
				long_name = BA_neutrality_party_name_rerolling_1
				name = BA_neutrality_party_name_rerolling_1
			}
		}
		10 = {
			set_party_name = {
				ideology = neutrality
				long_name = BA_neutrality_party_name_rerolling_2
				name = BA_neutrality_party_name_rerolling_2
			}
		}
		10 = {
			set_party_name = {
				ideology = neutrality
				long_name = BA_neutrality_party_name_rerolling_3
				name = BA_neutrality_party_name_rerolling_3
			}
		}
		25 = {
			modifier = {
				factor = 0
				NOT = { Kivotos_school_tag = yes }
			}
			set_party_name = {
				ideology = neutrality
				long_name = BA_neutrality_party_name_rerolling_4
				name = BA_neutrality_party_name_rerolling_4
			}
		}
		25 = {
			modifier = {
				factor = 0
				NOT = { Kivotos_school_tag = yes }
			}
			set_party_name = {
				ideology = neutrality
				long_name = BA_neutrality_party_name_rerolling_5
				name = BA_neutrality_party_name_rerolling_5
			}
		}
	}
}

BANOKVT_get_best_alliance_match_democratic_effect = { #arguably a trigger, but it does stuff so we keep it in here. If this is your first time seeing this, welcome to my personal hell.
	if = {
		limit = {
			any_other_country = {
				is_faction_leader = yes
				is_major = yes
				has_government = democratic
				NOT = {
					has_war_with = ROOT
					Kivotos_tag = yes
				}
				set_temp_variable = { ROOT.best_leader = this }
				set_temp_variable = { ROOT.best_leader_score = 0 }
			}
		}
	}
	if = {
		limit = {
			all_other_country = {
				is_faction_leader = yes
				is_major = yes
				has_government = democratic
				NOT = {
					has_war_with = ROOT
					Kivotos_tag = yes
				}
				set_temp_variable = { this.leader_score = num_of_factories }
				add_to_temp_variable = { this.leader_score = num_battalions }
				all_of_scopes = {
					array = allies
					add_to_temp_variable = { PREV.leader_score = num_of_factories }
					add_to_temp_variable = { PREV.leader_score = num_battalions }
				}
				if = {
					limit = {
						capital_scope = {
							is_on_continent = ROOT
						}
					}
					multiply_temp_variable = { leader_score = 2 }
				}
				if = {
					limit = {
						any_neighbor_country = { tag = ROOT }
					}
					multiply_temp_variable = { leader_score = 1.25 }
				}
				if = {
					limit = {
						check_variable = { ROOT.best_leader_score < leader_score }
						set_temp_variable = { ROOT.best_leader = this }
						set_temp_variable = { ROOT.best_leader_score = leader_score }
					}
				}
			}
		}
	}
}

BANOKVT_get_best_alliance_match_fascism_effect = { #arguably a trigger, but it does stuff so we keep it in here. If this is your first time seeing this, welcome to my personal hell.
	if = {
		limit = {
			any_other_country = {
				is_faction_leader = yes
				is_major = yes
				has_government = fascism
				NOT = {
					has_war_with = ROOT
					Kivotos_tag = yes
				}
				set_temp_variable = { ROOT.best_leader = this }
				set_temp_variable = { ROOT.best_leader_score = 0 }
			}
		}
	}
	if = {
		limit = {
			all_other_country = {

				is_faction_leader = yes
				is_major = yes
				has_government = fascism
				NOT = {
					has_war_with = ROOT
					Kivotos_tag = yes
				}

				set_temp_variable = { this.leader_score = num_of_factories }
				add_to_temp_variable = { this.leader_score = num_battalions }
				all_of_scopes = {
					array = allies
					add_to_temp_variable = { PREV.leader_score = num_of_factories }
					add_to_temp_variable = { PREV.leader_score = num_battalions }
				}
				if = {
					limit = {
						capital_scope = {
							is_on_continent = ROOT
						}
					}
					multiply_temp_variable = { this.leader_score = 2 }
				}
				if = {
					limit = {
						any_neighbor_country = { tag = ROOT }
					}
					multiply_temp_variable = { this.leader_score = 1.25 }
				}
				if = {
					limit = {
						check_variable = { ROOT.best_leader_score < this.leader_score }
					}
					set_temp_variable = { ROOT.best_leader = this }
					set_temp_variable = { ROOT.best_leader_score = this.leader_score }
				}
			}
		}
	}
}

BANOKVT_get_best_alliance_match_communism_effect = { #arguably a trigger, but it does stuff so we keep it in here. If this is your first time seeing this, welcome to my personal hell.
	if = {
		limit = {
			any_other_country = {
				is_faction_leader = yes
				is_major = yes
				has_government = communism
				NOT = {
					has_war_with = ROOT
					Kivotos_tag = yes
				}
				set_temp_variable = { ROOT.best_leader = this }
				set_temp_variable = { ROOT.best_leader_score = 0 }
			}
		}
	}
	if = {
		limit = {
			all_other_country = {
				is_faction_leader = yes
				is_major = yes
				has_government = communism
				NOT = {
					has_war_with = ROOT
					Kivotos_tag = yes
				}
				set_temp_variable = { this.leader_score = num_of_factories }
				add_to_temp_variable = { this.leader_score = num_battalions }
				all_of_scopes = {
					array = allies
					add_to_temp_variable = { PREV.leader_score = num_of_factories }
					add_to_temp_variable = { PREV.leader_score = num_battalions }
				}
				if = {
					limit = {
						capital_scope = {
							is_on_continent = ROOT
						}
					}
					multiply_temp_variable = { leader_score = 2 }
				}
				if = {
					limit = {
						any_neighbor_country = { tag = ROOT }
					}
					multiply_temp_variable = { leader_score = 1.25 }
				}
				if = {
					limit = {
						check_variable = { ROOT.best_leader_score < leader_score }
						set_temp_variable = { ROOT.best_leader = this }
						set_temp_variable = { ROOT.best_leader_score = leader_score }
					}
				}
			}
		}
	}
}

TRM_won_the_gehenna_effect = {
	TRM = {
		set_global_flag = TRINITY_WON_THE_GEHENNA
		swap_ideas = {
			remove_idea = TRM_mika_trinity
			add_idea = TRM_mika_trinity_2
		}
		hidden_effect = {
			swap_ruler_traits = {
				remove = TRN_mika_trait_1
				add = TRN_mika_trait_3
			}
		}
	}
}

GEH_german_nationalism_issue_down_effect = {
	if = { limit = { NOT = { has_idea = GEH_separation_law_1 has_idea = GEH_separation_law_2 } }
		if = {
			limit = { has_idea = GEH_german_nationalism_issue_2 }
			swap_ideas = {
				remove_idea = GEH_german_nationalism_issue_2
				add_idea = GEH_german_nationalism_issue_1
			}
		}
		else_if = {
			limit = { has_idea = GEH_german_nationalism_issue_1 }
			remove_ideas = GEH_german_nationalism_issue_1
		}
		else = {
			add_stability = 0.10
		}
	}
	else_if = { limit = { has_idea = GEH_separation_law_1 }
		add_stability = -0.10
		remove_ideas = GEH_separation_law_1
		add_ideas = GEH_german_nationalism_issue_1
	}
	else = {
		add_stability = -0.10
	}
}

GEH_Manmajun_Bupae_remove_effect = {
	if = {
		limit = { has_idea = GEH_Manmajun_Bupae }
		remove_ideas = GEH_Manmajun_Bupae
	}
	if = {
		limit = { has_idea = GEH_Manmajun_Bupae_1 }
		remove_ideas = GEH_Manmajun_Bupae_1
	}
	if = {
		limit = { has_idea = GEH_Manmajun_Bupae_2 }
		remove_ideas = GEH_Manmajun_Bupae_2
	}
	if = {
		limit = { has_idea = GEH_Manmajun_Bupae_3 }
		remove_ideas = GEH_Manmajun_Bupae_3
	}
	if = {
		limit = { has_idea = GEH_Manmajun_Bupae_4 }
		remove_ideas = GEH_Manmajun_Bupae_4
	}
	if = {
		limit = { has_idea = GEH_Manmajun_Bupae_5 }
		remove_ideas = GEH_Manmajun_Bupae_5
	}
}
GEH_Manmajun_Bupae_down_effect = {
	if = {
		limit = { has_idea = GEH_Manmajun_Bupae_4 }
		swap_ideas = {
			remove_idea = GEH_Manmajun_Bupae_4
			add_idea = GEH_Manmajun_Bupae_5
		}
	}
	else_if = {
		limit = { has_idea = GEH_Manmajun_Bupae_3 }
		swap_ideas = {
			remove_idea = GEH_Manmajun_Bupae_3
			add_idea = GEH_Manmajun_Bupae_4
		}
	}
	else_if = {
		limit = { has_idea = GEH_Manmajun_Bupae_2 }
		swap_ideas = {
			remove_idea = GEH_Manmajun_Bupae_2
			add_idea = GEH_Manmajun_Bupae_3
		}
	}
	else_if = {
		limit = { has_idea = GEH_Manmajun_Bupae_1 }
		swap_ideas = {
			remove_idea = GEH_Manmajun_Bupae_1
			add_idea = GEH_Manmajun_Bupae_2
		}
	}
	else_if = {
		limit = { has_idea = GEH_Manmajun_Bupae }
		swap_ideas = {
			remove_idea = GEH_Manmajun_Bupae
			add_idea = GEH_Manmajun_Bupae_1
		}
	}
	else_if = {
		limit = { has_idea = GEH_Manmajun_Bupae_5 }
		remove_ideas = GEH_Manmajun_Bupae_5
	}
}

GEH_gourmet_research_society_remove_effect = {
	if = {
		limit = { has_idea = GEH_gourmet_research_society_1 }
		remove_ideas = GEH_gourmet_research_society_1
	}
	if = {
		limit = { has_idea = GEH_gourmet_research_society_2 }
		remove_ideas = GEH_gourmet_research_society_2
	}
	if = {
		limit = { has_idea = GEH_gourmet_research_society_3 }
		remove_ideas = GEH_gourmet_research_society_3
	}
	if = {
		limit = { has_idea = GEH_gourmet_research_society_4 }
		remove_ideas = GEH_gourmet_research_society_4
	}
}

GEH_hot_spring_department_remove_effect = {
	if = {
		limit = { has_idea = GEH_hot_spring_department_1 }
		remove_ideas = GEH_hot_spring_department_1
	}
	if = {
		limit = { has_idea = GEH_hot_spring_department_2 }
		remove_ideas = GEH_hot_spring_department_2
	}
	if = {
		limit = { has_idea = GEH_hot_spring_department_3 }
		remove_ideas = GEH_hot_spring_department_3
	}
	if = {
		limit = { has_idea = GEH_hot_spring_department_4 }
		remove_ideas = GEH_hot_spring_department_4
	}
}

GEH_hot_spring_department_up_effect = {
	if = {
		limit = {
			has_idea = GEH_hot_spring_department_1
		}
		swap_ideas = {
			remove_idea = GEH_hot_spring_department_1
			add_idea = GEH_hot_spring_department_2
		}
	}
	else_if = {
		limit = {
			has_idea = GEH_hot_spring_department_2
		}
		swap_ideas = {
			remove_idea = GEH_hot_spring_department_2
			add_idea = GEH_hot_spring_department_3
		}
	}
	else_if = {
		limit = {
			has_idea = GEH_hot_spring_department_3
		}
		swap_ideas = {
			remove_idea = GEH_hot_spring_department_3
			add_idea = GEH_hot_spring_department_4
		}
	}
	else = {
		start_civil_war = {
			ideology = democratic
			size = 0.5
			army_ratio = 0.25
			keep_unit_leaders_trigger = {
				NOT = { has_trait = GEM_trait_hot_spring_department }
			}
			GEH_gourmet_research_society_remove_effect = yes
			GEH_hot_spring_department_remove_effect = yes
			GEH_Manmajun_Bupae_remove_effect = yes
		}
		GEH_hot_spring_department_remove_effect = yes
		add_timed_idea = {
			idea = GEH_hot_spring_department_0
			days = 1080
		}
		add_popularity = {
			ideology = democratic
			popularity = -1.00
		}
	}
}

GEH_gourmet_research_society_up_effect = {
	if = {
		limit = { has_idea = GEH_gourmet_research_society_1 }
		swap_ideas = {
			remove_idea = GEH_gourmet_research_society_1
			add_idea = GEH_gourmet_research_society_2
		}
	}
	else_if = {
		limit = { has_idea = GEH_gourmet_research_society_2 }
		swap_ideas = {
			remove_idea = GEH_gourmet_research_society_2
			add_idea = GEH_gourmet_research_society_3
		}
	}
	else_if = {
		limit = { has_idea = GEH_gourmet_research_society_3 }
		swap_ideas = {
			remove_idea = GEH_gourmet_research_society_3
			add_idea = GEH_gourmet_research_society_4
		}
	}
	else = {
		start_civil_war = {
			ideology = communism
			size = 0.5
			army_ratio = 0.25
			keep_unit_leaders_trigger = {
				NOT = { has_trait = GEM_trait_gourmet_research_society }
			}
			GEH_gourmet_research_society_remove_effect = yes
			GEH_hot_spring_department_remove_effect = yes
			GEH_Manmajun_Bupae_remove_effect = yes
		}
		GEH_gourmet_research_society_remove_effect = yes
		add_timed_idea = {
			idea = GEH_gourmet_research_society_0
			days = 1080
		}
		add_popularity = {
			ideology = communism
			popularity = -1.00
		}
	}
}

GEH_hot_spring_department_down_effect = {
	if = {
		limit = {
			has_idea = GEH_hot_spring_department_4
		}
		swap_ideas = {
			remove_idea = GEH_hot_spring_department_4
			add_idea = GEH_hot_spring_department_3
		}
	}
	else_if = {
		limit = {
			has_idea = GEH_hot_spring_department_3
		}
		swap_ideas = {
			remove_idea = GEH_hot_spring_department_3
			add_idea = GEH_hot_spring_department_2
		}
	}
	else_if = {
		limit = {
			has_idea = GEH_hot_spring_department_2
		}
		swap_ideas = {
			remove_idea = GEH_hot_spring_department_2
			add_idea = GEH_hot_spring_department_1
		}
	}
	else = {
		add_days_mission_timeout = {
			mission = GEH_hot_spring_department_up
			days = 30
		}
	}
}

GEH_gourmet_research_society_down_effect = {
	if = {
		limit = { has_idea = GEH_gourmet_research_society_4 }
		swap_ideas = {
			remove_idea = GEH_gourmet_research_society_4
			add_idea = GEH_gourmet_research_society_3
		}
	}
	else_if = {
		limit = { has_idea = GEH_gourmet_research_society_3 }
		swap_ideas = {
			remove_idea = GEH_gourmet_research_society_3
			add_idea = GEH_gourmet_research_society_2
		}
	}
	else_if = {
		limit = { has_idea = GEH_gourmet_research_society_2 }
		swap_ideas = {
			remove_idea = GEH_gourmet_research_society_2
			add_idea = GEH_gourmet_research_society_1
		}
	}
	else = {
		add_days_mission_timeout = {
			mission = GEH_gourmet_research_society_up
			days = 30
		}
	}
}

GEH_popular_support_up_effect = {
	if = {
		limit = { has_idea = GEH_popular_support_1 }
		swap_ideas = {
			remove_idea = GEH_popular_support_1
			add_idea = GEH_popular_support_2
		}
	}
	else_if = {
		limit = { has_idea = GEH_popular_support_2 }
		swap_ideas = {
			remove_idea = GEH_popular_support_2
			add_idea = GEH_popular_support_3
		}
	}
	else_if = {
		limit = { has_idea = GEH_popular_support_3 }
		swap_ideas = {
			remove_idea = GEH_popular_support_3
			add_idea = GEH_popular_support_4
		}
	}
	else_if = {
		limit = { has_idea = GEH_popular_support_4 }
		swap_ideas = {
			remove_idea = GEH_popular_support_4
			add_idea = GEH_popular_support_5
		}
	}
}
GEH_popular_support_down_effect = {
	if = {
		limit = { has_idea = GEH_popular_support_2 }
		swap_ideas = {
			remove_idea = GEH_popular_support_2
			add_idea = GEH_popular_support_1
		}
	}
	else_if = {
		limit = { has_idea = GEH_popular_support_3 }
		swap_ideas = {
			remove_idea = GEH_popular_support_3
			add_idea = GEH_popular_support_2
		}
	}
	else_if = {
		limit = { has_idea = GEH_popular_support_4 }
		swap_ideas = {
			remove_idea = GEH_popular_support_4
			add_idea = GEH_popular_support_5
		}
	}
	else_if = {
		limit = { has_idea = GEH_popular_support_5 }
		swap_ideas = {
			remove_idea = GEH_popular_support_5
			add_idea = GEH_popular_support_4
		}
	}
}

TRM_endsieg_effect = {
	TRM = {
		TRN_alzk = {
			remove_country_leader_role = {
				ideology = pater_nazism
			}
			add_country_leader_role = {
				country_leader = {
					expire = "1965.1.1"
					ideology = pater_nazism
					desc = "TRN_alzk_DESC_2"
					traits = {
						TRN_mika_trait_4
						TRM_gloy_leader
						TRN_mika_trait_2
					}
				}
				promote_leader = yes
			}
		}
	}
}

ENG_lose_effect = {
	ENG = {
		news_event = {
			id = BA_news.6
		}
		every_country = {
			limit = {
				OR = {
					is_in_faction_with = ENG
					is_in_faction_with = CAN
					is_in_faction_with = AST
				}
			}
			leave_faction = yes
		}
		every_country = {
			limit = {
				has_war_with = KAI
			}
			white_peace = KAI
		}
		mark_focus_tree_layout_dirty = yes
		end_puppet = EGY
		if = {
			limit = {
				has_country_leader = {
					character = ENG_british_army
					ruling_only = yes
				}
			}
			retire_ideology_leader = neutrality
		}
		if = {
			limit = {
				is_female = yes
			}
			set_party_name = {
				ideology = neutrality
				long_name = ENG_neutrality_party_queens_party_long
				name = ENG_neutrality_party_queens_party
			}
		}
		else = {
			set_party_name = {
				ideology = neutrality
				long_name = ENG_neutrality_party_kings_party_long
				name = ENG_neutrality_party_kings_party
			}
		}
	}
	country_event = {
		id = ENG_british_warning_event.7
		days = 15
	}
	add_state_core = 332
	add_state_core = 331
	add_victory_points = {
		province = 12503
		value = 5
	}
	set_capital = {
		state = 332
		remember_old_capital = no
	}
	every_state = {
		limit = {
			is_core_of = CAN
		}
		ENG = {
			add_state_claim = PREV
		}
	}
	add_popularity = {
		ideology = democratic
		popularity = 0.5
	}
	add_popularity = {
		ideology = communism
		popularity = 0.1
	}
	add_popularity = {
		ideology = fascism
		popularity = 0.1
	}
	set_politics = {
		ruling_party = democratic
		last_election = "1936.2.6"
		election_frequency = 48
		elections_allowed = no
	}
	country_event = {
		id = can.1
		hours = 100
	}
	BEL = {
	   country_event = {
	       id = COG_event.1
		   hours = 7
	   }
	}
	CAN = {
		country_event = {
			id = can.13
			hours = 48
		}
	}
	delete_unit_template_and_units = {
		division_template = "Infantry Division"
		disband = yes		#will refund equipment and manpower
	}
	delete_unit_template_and_units = {
		division_template = "Cavalry Brigade"
		disband = yes		#will refund equipment and manpower
	}
	delete_unit_template_and_units = {
		division_template = "Tank Brigade"
		disband = yes		#will refund equipment and manpower
	}
	delete_unit_template_and_units = {
		division_template = "Home Guard"
		disband = yes		#will refund equipment and manpower
	}
}

ENG_lose_effect_other_country = {
	set_global_flag = ENG_lose_global_flag	
	EGY = {
		set_cosmetic_tag = EGY_NOT_ENG
	}
	KAI = {
		transfer_state = 123
		transfer_state = 122
		transfer_state = 132
		transfer_state = 131
		transfer_state = 931
		add_state_core = 123
		add_state_core = 122
		add_state_core = 132
		add_state_core = 131
		add_state_core = 931
		remove_ideas = KAI_is_strong
		swap_ideas = {
			remove_idea = KAI_total_cost
			add_idea = KAI_eco_impact
		}
	}
	GEI = {
		transfer_state = 136
		transfer_state = 133
		transfer_state = 121
		add_state_core = 136
		add_state_core = 133
		add_state_core = 121
	}
	IRE = {
		country_event = {
			id = BA_generic_event.11
			days = 5
		}
	}
	ITA = {
		country_event = {
			id = BA_generic_event.1
			days = 10
		}
	}
	JAP = {
		country_event = {
			id = BA_generic_event.3
			days = 15
		}
	}
}

TRM_THE_NEW_ORDER = {
	every_country = {
		remove_ideas = BA_exiles_of_the_future
	}
	TRM = {
		remove_ideas = TRM_safe_trinity
		remove_ideas = TRM_justice_task_force
		add_ideas = TRM_mika_trinity_2
		add_ideas = TRM_justice_task_force_3
		add_ideas = TRN_Inefficient_bureaucracy_5
		add_ideas = TRN_Knight_Templar_2_idea
		add_ideas = TRN_industrial_boom
		set_cosmetic_tag = TRINITY_REICH
		add_state_core = 85
		transfer_state = 85
		add_state_core = 910
		transfer_state = 910
		add_state_core = 912
		transfer_state = 912
		add_state_core = 102
		transfer_state = 102
		add_state_core = 979
		transfer_state = 979
		add_state_core = 87
		transfer_state = 87
		add_state_core = 98
		transfer_state = 98
		add_state_core = 97
		transfer_state = 97
		add_state_core = 977
		transfer_state = 977
		set_political_party = {
			ideology = fascism
			popularity = 100
		}
		set_politics = {
			ruling_party = fascism
			last_election = "1936.2.6"
			election_frequency = 48
			elections_allowed = no
		}
		add_country_leader_trait = TRN_mika_trait_4
		add_country_leader_trait = TRM_gloy_leader
		add_country_leader_trait = TRN_mika_trait_2
		puppet = SER
		create_faction = TRINITY_AXIS_FACTION
	}
	every_state = {
		limit = {
			OR = {
				is_core_of = GEH
				is_core_of = HEU
				is_core_of = ABY
				is_core_of = HYA
				is_core_of = SHA
				is_core_of = TRM
				is_core_of = GEM
                state = 28
                state = 976
                state = 58
                state = 909
			}
		}
		transfer_state_to = TRM
	}
	every_state = {
		limit = {
			OR = {
				is_core_of = GEH
				is_core_of = HEU
				is_core_of = ABY
				is_core_of = HYA
				is_core_of = SHA
			}
		}
		add_core_of = TRM
	}
	every_state = {
		limit = {
			is_core_of = ALB
		}
		transfer_state_to = ALB
	}
	every_state = {
		limit = {
			is_core_of = SER
			NOT = {
				state = 803
			}
		}
		transfer_state_to = SER
	}
	SER = {
		set_cosmetic_tag = SER_TRN_PUPPET
	}
	every_state = {
		limit = {
			OR = {
				is_core_of = BUL
				state = 803
				state = 106
				state = 731
				state = 184
				state = 77
			}
		}
		transfer_state_to = BUL
		add_core_of = BUL
	}
	BUL = {
		set_political_party = {
			ideology = fascism
			popularity = 100
		}
		set_politics = {
			ruling_party = fascism
			last_election = "1936.2.6"
			election_frequency = 48
			elections_allowed = no
		}
	}
	ALB = {
		transfer_state = 802
		add_state_core = 802
	}
	ROM = {
		transfer_state = 834
		transfer_state = 766
	}
	HUN = {
		transfer_state = 76
		transfer_state = 45
	}
	ITA = {
		add_state_core = 853
		transfer_state = 853
		transfer_state = 908
		transfer_state = 842
		transfer_state = 841
		transfer_state = 843
		transfer_state = 840
		transfer_state = 839
		transfer_state = 838
		transfer_state = 271
		transfer_state = 835
		transfer_state = 836
		transfer_state = 837
		transfer_state = 970
		transfer_state = 105
		puppet = ALB
		puppet = CRO
		puppet = GRE
	}
	CRO = {
		transfer_state = 104
		transfer_state = 804
	}
	every_state = {
		limit = {
			is_core_of = CRO
			NOT = {
				state = 852
				state = 163
				state = 970
			}
		}
		transfer_state_to = CRO
		add_core_of = CRO
	}
	RED = {
		add_state_core = 124
		transfer_state = 124
	}
}

TRM_NEW_ORDER_SOV_LOSE = {
	set_global_flag = TRM_NEW_ORDER_SOV_LOSE_flag
	ROM = {
        if = {
            limit = { 
                TRM = {
        		    owns_state = 834
            		owns_state = 78
		            owns_state = 80
            		owns_state = 766
                }
                ROM = {
                    owns_state = 79
                }
                is_in_faction_with = TRM
                has_government = fascism
            }
		    transfer_state = 834
    		transfer_state = 78
		    transfer_state = 80
		    transfer_state = 766
        }
	}
	UKR = {
		set_cosmetic_tag = TRN_UKR
        TRM = {
            TRM_Erich_Koch = {
                set_nationality = UKR
            }
        }
        add_country_leader_role = {
            character = TRM_Erich_Koch
            country_leader = {
				expire = "1974.6.18"
                ideology = pater_nazism
			    traits = { 
                    TRM_histroy_loser
                }
            }
            promote_leader = yes
        }
	}
	every_state = {
		limit = {
			OR = {
				is_core_of = UKR
				state = 94
				state = 194
			}
			NOT = {
				state = 834
				state = 766
				state = 89
				state = 91
				state = 196
				state = 80
			}
		}
		transfer_state_to = UKR
		add_core_of = UKR
	}
    if = {
        limit = {
            NOT = {
                TRM = {
                    is_in_faction_with = ROM
                }
            }
        }
        UKR = { transfer_state = 834 }
    }
    if = {
        limit = {
            TRM = { is_in_faction_with = ROM  }
        }
        ROM = { transfer_state = 834 }
    }
	every_state = {
		limit = {
			OR = {
				is_core_of = BLR
				is_core_of = LIT
				is_core_of = LAT
				is_core_of = EST
			}
			NOT = {
				state = 188
			}
		}
		transfer_state_to = BLR
		add_core_of = BLR
	}
	BLR = { 
        set_cosmetic_tag = TRN_BLR 
        TRM = {
            TRM_Hinrich_Lohse = {
                set_nationality = BLR
            }
        }
        add_country_leader_role = {
            character = TRM_Hinrich_Lohse
            country_leader = {
				expire = "1974.6.18"
                ideology = pater_nazism
			    traits = {
                    TRM_histroy_loser
                }
            }
            promote_leader = yes
        }
    }
	every_state = {
		limit = {
			OR = {
				is_core_of = GEO
				is_core_of = ARM
				is_core_of = AZR
				is_core_of = DAG
				is_core_of = CIN
				is_core_of = NOA
				is_core_of = KBK
				state = 235
				state = 234
				state = 233
			}
			NOT = {
				state = 419
				state = 420
			}
		}
		transfer_state_to = GEO
		add_core_of = GEO
	}
	GEO = {
		set_cosmetic_tag = TRN_GEO
	}
	every_state = {
		limit = {
			is_core_of = CRI
		}
		transfer_state_to = CRI
	}
	CRI = {
		set_cosmetic_tag = TRN_CRI
	}
	MON = {
		leave_faction = yes
	}
	TAN = {
		leave_faction = yes
	}
	TRU = {
		set_cosmetic_tag = TRN_TRU
		transfer_state = 264
		transfer_state = 195
		transfer_state = 244
		transfer_state = 208
		transfer_state = 263
		transfer_state = 210
		transfer_state = 209
		add_state_core = 264
		add_state_core = 195
		add_state_core = 244
		add_state_core = 208
		add_state_core = 263
		add_state_core = 210
		add_state_core = 209
	}
	TRV = {
		set_cosmetic_tag = TRN_TRV
		transfer_state = 252
		add_state_core = 252
	}
	TRS = {
		set_cosmetic_tag = TRN_TRS
		transfer_state = 217
		transfer_state = 237
		transfer_state = 265
		transfer_state = 245
		transfer_state = 218
		transfer_state = 238
		transfer_state = 237
		transfer_state = 236
		add_state_core = 217
		add_state_core = 237
		add_state_core = 265
		add_state_core = 245
		add_state_core = 218
		add_state_core = 238
		add_state_core = 237
		add_state_core = 236
	}
	TRE = {
		set_cosmetic_tag = TRN_TRE
		transfer_state = 255
		transfer_state = 239
		transfer_state = 250
		transfer_state = 829
		transfer_state = 401
		add_state_core = 255
		add_state_core = 239
		add_state_core = 250
		add_state_core = 829
		add_state_core = 401
	}
	FIN = {
		transfer_state = 146
		transfer_state = 147
	}
	create_dynamic_country = {
		original_tag = SOV
		copy_tag = SOV
		add_political_power = 100
		set_cosmetic_tag = TRN_SOV
        save_global_event_target_as = Trinity_Puppet_RUS
		transfer_state = 219
		transfer_state = 242
		transfer_state = 205
		transfer_state = 243
		transfer_state = 254
		transfer_state = 223
		transfer_state = 247
		transfer_state = 248
		transfer_state = 253
		transfer_state = 246
		transfer_state = 240
		transfer_state = 224
		transfer_state = 222
		transfer_state = 258
		transfer_state = 257
		transfer_state = 220
		transfer_state = 260
        create_country_leader = {
	        name = "TRN_PUPPET_RUSSIA_READER_NAME"
	        desc = ""
	        picture = "gfx/leaders/TRN/Z_TRN_military_junta.tga"
        	expire = "1965.1.1"
	        ideology = pater_nazism 
        	traits = {
        		TRM_histroy_loser
	        }       
        }
		set_party_name = {
			ideology = fascism
			long_name = "NEN_North_Russia_Rong"
			name = "NEN_North_Russia_name"
		}
        every_core_state = {
            limit = {
                NOT = {
                    is_controlled_by = PREV
                }
            }
            remove_core_of = PREV
        }
        TRM = {
			puppet = PREV
        }
	}
	TRM = {
		puppet = TRU
		puppet = TRS
		puppet = POL
		puppet = SLO
		puppet = UKR
		puppet = BLR
		puppet = LIT
		puppet = GEO
		puppet = CRI
		puppet = TRV
		puppet = TRE
		transfer_state = 910
		transfer_state = 87
		transfer_state = 98
		transfer_state = 97
	}
}

TRM_NEW_ORDER_SIBERIA = {
	every_state = {
		limit = {
			is_core_of = KAZ
		}
		transfer_state_to = KAZ
	}
	every_state = {
		limit = {
			is_core_of = UZB
		}
		transfer_state_to = UZB
	}
	every_state = {
		limit = {
			is_core_of = KYR
		}
		transfer_state_to = KYR
	}
	every_state = {
		limit = {
			is_core_of = TAJ
		}
		transfer_state_to = TAJ
	}
	every_state = {
		limit = {
			is_core_of = TMS
		}
		transfer_state_to = TMS
	}
	SOV = {
		set_cosmetic_tag = NEN_North_Russia
		transfer_state = 879
		transfer_state = 351
		transfer_state = 214
		transfer_state = 880
		transfer_state = 825
		transfer_state = 262
		transfer_state = 397
		transfer_state = 400
		transfer_state = 833
		transfer_state = 256
		transfer_state = 249
		transfer_state = 251
		transfer_state = 652
		transfer_state = 651
		transfer_state = 582
		transfer_state = 398
		transfer_state = 399
		transfer_state = 581
		transfer_state = 573
		transfer_state = 579
		transfer_state = 580
		transfer_state = 653
		transfer_state = 572
		transfer_state = 403
		transfer_state = 571
		set_politics = {
			ruling_party = communism
		}
		add_popularity = {
			ideology = communism
			popularity = 100
		}
        add_country_leader_role = {
            character = SOV_georgy_zhukov
            country_leader = {
				expire = "1974.6.18"
                ideology = marxism
			    traits = {
    				mass_assault_expert
				    national_integralist
			    }
            }
            promote_leader = yes
        }
        if = {
            limit = {
                is_in_faction_with = MON
            }
            MON = {
                remove_from_faction = PREV
            }
        }
		create_faction = LOSE_SOVIET_FACTION
	}
	KAZ = {
		set_cosmetic_tag = SOV_KAZ
        add_ideas = BA_soviet_puppet_idea
        SOV = { 
			set_autonomy = {
				target = PREV
				autonomy_state = autonomy_supervised_state
			}
        }
	}
	FER = {
		transfer_state = 561
		transfer_state = 560
		transfer_state = 657
		transfer_state = 409
		transfer_state = 562
		transfer_state = 874
		transfer_state = 637
		transfer_state = 574
		transfer_state = 644
		transfer_state = 877
		transfer_state = 822
		transfer_state = 876
		transfer_state = 563
		transfer_state = 408
		transfer_state = 564
		transfer_state = 565
        create_country_leader = {
			name = "NO NAME"
			desc = "" 
			picture = "gfx/leaders/ZZZ/Portrait_ZZZ_Anarchy.dds"
			expire = "1965.1.1"
			ideology = marxism
			traits = { }
        }
        set_cosmetic_tag = SOV_nominally_land
        add_ideas = BA_soviet_puppet_idea
        SOV = { 
			set_autonomy = {
				target = PREV
				autonomy_state = autonomy_supervised_state
			}
        }
    }
    create_dynamic_country = {
		original_tag = SOV
		copy_tag = SOV
		add_political_power = 120
        save_global_event_target_as = SOV_Senter_soviet_republic
		set_cosmetic_tag = TAY_Center_Russia
		set_political_party = {
			ideology = communism
			popularity = 100
		}
		set_politics = {
			ruling_party = communism
			last_election = "1936.2.6"
			election_frequency = 48
			elections_allowed = no
		}
        set_party_name = {
			ideology = communism
			long_name = SOV_communism_party_russian
			name = SOV_communism_party_russian
        }
		transfer_state = 824
		transfer_state = 577
		transfer_state = 578
		transfer_state = 570
		transfer_state = 40
		transfer_state = 569
		transfer_state = 654
		transfer_state = 568
		transfer_state = 567
		transfer_state = 566
		transfer_state = 878
		transfer_state = 516
		transfer_state = 576
		transfer_state = 575
        transfer_state = 329
        set_capital = { state = 570 }
        every_core_state = {
            limit = {
                NOT = {
                    is_controlled_by = PREV
                }
            }
            remove_core_of = PREV
        }
        add_ideas = BA_soviet_puppet_idea
        SOV = { 
			set_autonomy = {
				target = PREV
				autonomy_state = autonomy_supervised_state
			}
        }
    }
    event_target:SOV_Senter_soviet_republic = {
        SOV = {
            SOV_nikita_khrushchyov = {
                set_nationality = event_target:SOV_Senter_soviet_republic
            }
        }
        add_country_leader_role = {
            character = SOV_nikita_khrushchyov
            country_leader = {
				expire = "1974.6.18"
                ideology = marxism
			    traits = {
                    political_commissar
			    }
            }
            promote_leader = yes
        }
    }
	CKK = {
		transfer_state = 875
		create_country_leader = {
			name = "CKK_leader_name"
			picture = "gfx/leaders/DEN/portrait_DEN_freedom_council.tga"
			expire = "1965.1.1"
			ideology = conservatism
			traits = { }
		}
        USA = { puppet = PREV }
	}
	FIN = {
		transfer_state = 213
		transfer_state = 215
		transfer_state = 216
	}
    JAP = {
		transfer_state = 655
    }
}

TRM_CZE_PUPPET = {
	COU = {
		remove_ideas = COU_admin_confusion
		set_cosmetic_tag = TRN_LUX
		every_state = {
			limit = {
				OR = {
					is_controlled_by = COU
					is_controlled_by = KSP
					is_controlled_by = SHE
				}
			}
			add_core_of = COU
			transfer_state_to = COU
		}
		set_capital = {
			state = 7
		}
	}
	country_event = {
		id = TRM_event.3000
	}
		SRT = {
				SRT = { set_cosmetic_tag = TRM_KAI }
			transfer_state = 30
			transfer_state = 15
			transfer_state = 23
			transfer_state = 14
			add_state_core = 30
			add_state_core = 15
			add_state_core = 23
			hidden_effect = {
			create_country_leader = {
				name = "TRN_dkdhahfl_alsp"
				desc = ""
				picture = "gfx/leaders/TRN/TRN_Aomori_Mine_Portrait.tga"
				expire = "1965.1.1"
				ideology = pater_nazism
				traits = {
					TRN_aomori_mine
				}
			}
			}
		}	
		TRC = {
			set_cosmetic_tag = MIL_TRN
			transfer_state = 785
			transfer_state = 16
			transfer_state = 973
			transfer_state = 18
			transfer_state = 27
			transfer_state = 17
			transfer_state = 972
			transfer_state = 24
			every_state = {
				limit = {
					is_controlled_by = TRC
				}
				add_core_of = TRC
			}
			add_ideas = MIL_neutrality_idea
			set_capital = { state = 16 }
			hidden_effect = {
				create_country_leader = {
					name = "uyi"
					desc = ""
					picture = "gfx/leaders/TRN/TRN_Kozeki_Ui_Portrait.tga"
					expire = "1965.1.1"
					ideology = pater_nazism
					traits = {
						TRN_economist_ui
						kozeki_ui_trait
					}
				}
			}
		}
		create_dynamic_country = {
			original_tag = MIL
			copy_tag = FRA
			set_cosmetic_tag = TRM_FRA
			add_political_power = 100
			transfer_state = 26
			transfer_state = 20
			transfer_state = 32
			transfer_state = 980
			transfer_state = 851
			transfer_state = 21
			transfer_state = 22
			transfer_state = 31
			transfer_state = 19
			transfer_state = 806
			transfer_state = 25
			transfer_state = 33
			set_capital = { state = 26 }
			hidden_effect = {
				create_country_leader = {
					name = "TRN_tmwmal"
					desc = ""
					picture = "gfx/leaders/TRN/TRN_Morizuki_Suzumi_Portrait.tga"
					expire = "1965.1.1"
					ideology = pater_nazism
					traits = {
						TRN_suzume_trait
					}
				}
			}
		TRM = {
			puppet = PREV
			puppet = TRC
			puppet = SRT
			}
		}
		POL = {
			transfer_state = 10
			transfer_state = 92
			transfer_state = 90
			transfer_state = 88
			transfer_state = 91
			transfer_state = 89
			set_cosmetic_tag = TRN_POL
		}
			every_state = {
				limit = {
					is_core_of = POL
					NOT = { is_controlled_by = POL }
				}
				remove_core_of = POL
			}
		every_state = {
			limit = { is_core_of = MIL }
			set_demilitarized_zone = no
		}
			create_dynamic_country = {
				original_tag = SPR
				copy_tag = SPR
				add_political_power = 100
				set_cosmetic_tag = TRN_SPR
				every_state = {
					limit = { 
						OR = {
							is_core_of = SPR 
							is_core_of = POR
						}
						NOT = {
							state = 697
							state = 178
							state = 698
						}
					}
					transfer_state_to = PREV
				}
				every_state = {
					limit = {
						OR = {
							is_core_of = SPR 
							is_core_of = POR
						} 
						NOT = {
							state = 697
							state = 178
							state = 698
						}
					}
					add_core_of = PREV
				}
				create_country_leader = {
					name = "TRN_military_junta_name"
					desc = ""
					picture = "gfx/leaders/TRN/Z_TRN_military_junta.tga"
					expire = "1965.1.1"
					ideology = pater_nazism
					traits = { }
				}
				TRM = { 
					puppet = PREV 
					transfer_state = 118
				}
			}
}

TRN_KAI_PUPPET = {
	USA = {
		transfer_state = 101
	}
	KAI = {
		annex_country = {
			target = GEI
		}
		release = ICE
		set_cosmetic_tag = TRN_SRT
		create_country_leader = {
			name = "TRN_gktmal"
			desc = ""
			picture = "gfx/leaders/TRN/TRN_Hanekawa_Hasumi_Portrait.tga"
			expire = "1965.1.1"
			ideology = pater_nazism
			traits = {
				#
			}
		}
		set_party_name = {
			ideology = fascism
			long_name = "Justice_Task_Force_LONG"
			name = "Justice_Task_Force"
		}
	}
			create_dynamic_country = {
				original_tag = NOR
				copy_tag = NOR
				add_political_power = 100
				set_cosmetic_tag = TRN_NOR
				every_state = {
					limit = { 
						OR = {
							is_core_of = NOR 
							is_core_of = SWE
						}
						NOT = {
							state = 138
							state = 139
							state = 140
							state = 915
							state = 919
							state = 141
							state = 913
							state = 110
							state = 920
							state = 142
							state = 921
							state = 922
							state = 916
						}
					}
					transfer_state_to = PREV
				}
				every_state = {
					limit = { is_core_of = SWE }
					add_core_of = PREV
				}
				create_country_leader = {
					name = "Josef_Terboven_Name"
					desc = ""
					picture = "gfx/leaders/TRN/Z_TRN_Josef_Terboven_Portrait.tga"
					expire = "1965.1.1"
					ideology = pater_nazism
					traits = { }
				}
				TRM = { puppet = PREV }
			}
			create_dynamic_country = {
				original_tag = RED
				copy_tag = RED
				add_political_power = 100
				transfer_state = 141
				transfer_state = 138
				transfer_state = 139
				transfer_state = 140
				transfer_state = 915
				transfer_state = 919
				transfer_state = 141
				transfer_state = 913
				transfer_state = 110
				transfer_state = 920
				transfer_state = 142
				transfer_state = 921
				transfer_state = 922
				transfer_state = 916
				set_cosmetic_tag = TRN_RED
				set_capital = { state = 37 }
				set_party_name = {
					ideology = fascism
					long_name = "fascism_noun"
					name = "fascism"
				}
				create_country_leader = {
					name = "RED_minori"
					desc = ""
					picture = "gfx/leaders/RED/RED_Yasumori_Minori_Portrait.tga"
					expire = "1965.1.1"
					ideology = pater_nazism
					traits = { }
				}
				TRM = { puppet = PREV }
			}
			TRM = {
				puppet = KAI
				transfer_state = 99
				transfer_state = 911
				transfer_state = 37
			}
	every_country = {
		limit = {
			is_puppet_of = TRM
		}
		add_ideas = GEH_slave_of_the_trm
	}
}
TRM_ditalia_puppet = {
	create_dynamic_country = {
		copy_tag = ITA
		original_tag = ITA
		add_political_power = 100
		transfer_state = 2
		transfer_state = 114
		transfer_state = 158
		transfer_state = 159
		transfer_state = 160
		transfer_state = 161
		transfer_state = 162
		transfer_state = 157
		transfer_state = 2
		#transfer_state = 117
		#transfer_state = 849
		#transfer_state = 156
		#transfer_state = 115
		every_state = {
			limit = {
				is_core_of = PREV
				NOT = {
					is_controlled_by = PREV
				}
			}
			remove_core_of = PREV
		}
		create_country_leader = {
			name = "TRN_military_junta_name"
			desc = ""
			picture = "gfx/leaders/TRN/Z_TRN_military_junta.tga"
			expire = "1965.1.1"
			ideology = pater_nazism
			traits = { }
		}
		set_cosmetic_tag = TRN_ITA
		TRM = { puppet = PREV }
	}
	create_dynamic_country = {
		copy_tag = TTS
		original_tag = TTS
		add_political_power = 100
		transfer_state = 117
		transfer_state = 849
		transfer_state = 156
		transfer_state = 115
		create_country_leader = {
			name = "TRN_military_junta_name"
			desc = ""
			picture = "gfx/leaders/TRN/Z_TRN_military_junta.tga"
			expire = "1965.1.1"
			ideology = pater_nazism
			traits = { }
		}
		set_cosmetic_tag = TRN_TTS
		TRM = { puppet = PREV }
	}
	26 = {
		owner = {
			transfer_state = 735
			transfer_state = 981
		}
	}
	TRM = {
		transfer_state = 39
		transfer_state = 850
		transfer_state = 853
		transfer_state = 970
		transfer_state = 736
		transfer_state = 852
		transfer_state = 102
	}
}
TRM_Balkan_puppet = {
	create_dynamic_country = {
		copy_tag = SER
		original_tag = SER
		add_political_power = 100
		transfer_state = 104
		transfer_state = 804
		every_state = {
			limit = {
				is_core_of = SER
				NOT = {
					state = 852
					state = 163
					state = 970
					state = 803
					state = 45
				}
			}
			transfer_state_to = PREV
			add_core_of = PREV
		}
		set_cosmetic_tag = SER_TRN_PUPPET
		TRM = { puppet = PREV }
	}
	create_dynamic_country = {
		copy_tag = CRO
		original_tag = CRO
		add_political_power = 100
		transfer_state = 104
		transfer_state = 804
		every_state = {
			limit = {
				is_core_of = CRO
				NOT = {
					state = 852
					#state = 163
					state = 970
				}
			}
			transfer_state_to = PREV
			add_core_of = PREV
		}
		create_country_leader = {
			name = "Ante Pavelic"
			desc = "ANTE_PAVELIC_DESC"
			picture = GFX_portrait_Ante_Pavelic
			expire = "1965.1.1"
			ideology = pater_nazism
			traits = {
				#
			}
		}
		set_cosmetic_tag = TRN_CRO
		TRM = { puppet = PREV }
	}
	every_state = {
		limit = {
			OR = {
				is_core_of = ALB
				state = 105
				state = 802
			}
		}
		transfer_state_to = ALB
	}
	ALB = { set_cosmetic_tag = TRN_ALB}
	SLO = {
		transfer_state = 71
		transfer_state = 70
		add_state_core = 71
		add_state_core = 70
		set_cosmetic_tag = TRN_SLO
	}
	HUN = {
		transfer_state = 664
		transfer_state = 155
		transfer_state = 43
		transfer_state = 154
		transfer_state = 45
		transfer_state = 76
		transfer_state = 73
	}
	ROM = {
		transfer_state = 82
		transfer_state = 83
		transfer_state = 84
		transfer_state = 81
		transfer_state = 46
		transfer_state = 79
		transfer_state = 80
		transfer_state = 78
		transfer_state = 766
		transfer_state = 834
	}
	BUL = {
		transfer_state = 48
		transfer_state = 801
		transfer_state = 211
		transfer_state = 77
		transfer_state = 212
		transfer_state = 106
		transfer_state = 803
		transfer_state = 731
		transfer_state = 184
	}
	GRE = {
		transfer_state = 185
		transfer_state = 47
		transfer_state = 186
		transfer_state = 187
		transfer_state = 182
	}
	TRM = { 
		puppet = ALB 
		puppet = SLO
		puppet = HUN
		puppet = ROM
		puppet = BUL
		puppet = GRE
	}
}
TRM_Finland_puppet = {
	FIN = { set_cosmetic_tag = TRN_FIN }
	TRM = { puppet = FIN }
}

BRAVE_NEW_WORLD = {
	TIB = {
		transfer_state = 601
		transfer_state = 604
		transfer_state = 434
	}
	MAN = {
		transfer_state = 745
	}
	CHI = {
		transfer_state = 609
	}
	SHX = {
		transfer_state = 622
		transfer_state = 744
	}
	MEN = {
		transfer_state = 621
		transfer_state = 746
		transfer_state = 817
		transfer_state = 819
		transfer_state = 330
		transfer_state = 820
		transfer_state = 818
		transfer_state = 329
	}
	YUN = {
		transfer_state = 603
		transfer_state = 751
	}
	XSM = {
		transfer_state = 752
	}
	VIN = {
		transfer_state = 671
		transfer_state = 286
	}
	LAO = {
		transfer_state = 670
	}
	CAM = {
		transfer_state = 741
	}
	INS = {
		transfer_state = 335
	}
	BRM = {
		transfer_state = 288
		transfer_state = 640
	}
	HND = {
		set_cosmetic_tag = HND_JAP
		transfer_state = 430
		transfer_state = 431
		transfer_state = 432
		transfer_state = 435
	}
	JAP = {
		create_faction = JAP_greater_east_asian_co_prosperity_sphere
		puppet = CHI
		puppet = SHX
		puppet = GXC
		puppet = YUN
		puppet = SIK
		puppet = XSM
		puppet = VIN
		puppet = PHI
		puppet = LAO
		puppet = CAM
		puppet = MAL
		puppet = SIA
		puppet = INS
		puppet = HND
		puppet = BRM
		transfer_state = 591
		transfer_state = 728
		transfer_state = 592
		transfer_state = 729
		transfer_state = 326
		transfer_state = 593
		transfer_state = 639
		transfer_state = 725
		transfer_state = 643
		transfer_state = 638
		transfer_state = 632
		transfer_state = 631
		transfer_state = 630
		transfer_state = 629
		transfer_state = 655
	}
	USA = {
		create_faction = USA_NATO_FACTION
		add_to_faction = CAN
		add_to_faction = SAF
		add_to_faction = CAR
		add_to_faction = FRA
		add_to_faction = AST
		add_to_faction = NZL
		add_to_faction = RAJ
		add_to_faction = ENG
	}
	YEM = {
		transfer_state = 659
	}
	IRQ = {
		transfer_state = 656
		add_state_core = 656
	}
	SAF = {
		transfer_state = 542
		add_state_core = 542
	}
	EGY = {
		transfer_state = 551
		transfer_state = 883
		transfer_state = 767
		transfer_state = 887
		transfer_state = 549
		transfer_state = 886
		transfer_state = 884
		transfer_state = 885
		add_state_core = 551
		add_state_core = 883
		add_state_core = 767
		add_state_core = 887
		add_state_core = 549
		add_state_core = 886
		add_state_core = 884
		add_state_core = 885
	}
	ENG = {
		release = UAE
		release = QAT
		release = TZN
		release = UGA
		release = KEN
		release = JOR
		release = PAL
		release = ZAM
		release = MLW
		release = EGY
	}
	CAR = {
		set_cosmetic_tag = CAR_ENG_free
		transfer_state = 772
		transfer_state = 660
		transfer_state = 774
		transfer_state = 901
		transfer_state = 902
		transfer_state = 776
		transfer_state = 274
		transfer_state = 558
		transfer_state = 900
		transfer_state = 773
		transfer_state = 539
		transfer_state = 777
		add_state_core = 774
		add_state_core = 901
		add_state_core = 772
		add_state_core = 902
		add_state_core = 776
		add_state_core = 274
		add_state_core = 558
		add_state_core = 900
		add_state_core = 773
		add_state_core = 777
		add_state_core = 539
		transfer_state = 539
		transfer_state = 700
		add_state_core = 700
		hidden_effect = {
			load_oob = CAR
		}
		set_politics = {
			ruling_party = neutrality
		}
		set_popularities = {
			neutrality = 100
		}
	}
}

ENG_great_depression_reduction_major = {
	ENG = {
		if = {
			limit = {
				has_idea = ENG_great_depression_9
			}
			remove_ideas = ENG_great_depression_9
			clr_country_flag = ENG_great_depression_flag
		}
		if = {
			limit = {
				has_idea = ENG_great_depression_8
			}
			remove_ideas = ENG_great_depression_8
			clr_country_flag = ENG_great_depression_flag
		}
		if = {
			limit = {
				has_idea = ENG_great_depression_7
			}
			swap_ideas = {
				remove_idea = ENG_great_depression_7
				add_idea = ENG_great_depression_9
			}
		}
		if = {
			limit = {
				has_idea = ENG_great_depression_6
			}
			swap_ideas = {
				remove_idea = ENG_great_depression_6
				add_idea = ENG_great_depression_8
			}
		}
		if = {
			limit = {
				has_idea = ENG_great_depression_5
			}
			swap_ideas = {
				remove_idea = ENG_great_depression_5
				add_idea = ENG_great_depression_7
			}
		}
		if = {
			limit = {
				has_idea = ENG_great_depression_4
			}
			swap_ideas = {
				remove_idea = ENG_great_depression_4
				add_idea = ENG_great_depression_6
			}
		}
		if = {
			limit = {
				has_idea = ENG_great_depression_3
			}
			swap_ideas = {
				remove_idea = ENG_great_depression_3
				add_idea = ENG_great_depression_5
			}
		}
		if = {
			limit = {
				has_idea = ENG_great_depression_2
			}
			swap_ideas = {
				remove_idea = ENG_great_depression_2
				add_idea = ENG_great_depression_4
			}
		}
		if = {
			limit = {
				has_idea = ENG_great_depression_1
			}
			swap_ideas = {
				remove_idea = ENG_great_depression_1
				add_idea = ENG_great_depression_3
			}
		}
		if = {
			limit = {
				has_idea = ENG_great_depression
			}
			swap_ideas = {
				remove_idea = ENG_great_depression
				add_idea = ENG_great_depression_2
			}
		}
	}
}

POL_win_of_intermarium = {
	POL = {
		complete_national_focus = POL_inter_4
		transfer_state = 97
		transfer_state = 94
		transfer_state = 95
		transfer_state = 93
	}
	if = {
		limit = {
			ROM = {
				is_ally_with = POL
			}
		}
		ROM = {
			transfer_state = 834
			add_state_core = 834
		}
	}
	else = {
		UKR = {
			transfer_state = 834
		}
		if = {
			limit = {
				78 = {
					is_owned_by = SOV
				}
			}
			MOL = {
				transfer_state = 78
				transfer_state = 766
			}
			POL = {
				transfer_state = 80
				set_autonomy = {
					target = MOL
					autonomy_state = autonomy_supervised_state
				}
			}
		}
	}
	UKR = {
		every_core_state = {
			limit = {
				is_owned_by = SOV
			}
			transfer_state_to = UKR
		}
	}
	BLR = {
		every_core_state = {
			limit = {
				is_owned_by = SOV
			}
			transfer_state_to = BLR
		}
	}
	SOV = {
		release = LIT
		release = LAT
		release = EST
	}
	if = {
		limit = {
			FIN = {
				is_ally_with = POL
			}
		}
		FIN = {
			every_core_state = {
				limit = {
					is_owned_by = SOV
				}
				transfer_state_to = FIN
			}
			SMI = {
				every_core_state = {
					limit ={
						is_owned_by = SOV
					}
					transfer_state_to = SMI
				}
				set_variable = {
					collaboration_formed_by = FIN
				}
				add_ideas = POL_autonomy_auto_low
			}
			KAR = {
				every_core_state = {
					limit ={
						is_owned_by = SOV
					}
					transfer_state_to = KAR
				}
				set_variable = {
					collaboration_formed_by = FIN
				}
				add_ideas = POL_autonomy_auto_low
			}
			set_autonomy = {
				target = SMI
				autonomy_state = autonomy_collaboration_government
			}
			set_autonomy = {
				target = KAR
				autonomy_state = autonomy_collaboration_government
			}
		}
		195 = {
			set_demilitarized_zone = yes
		}
	}
	if = {
		limit = {
			TUR = {
				is_ally_with = POL
			}
		}
		GEO = {
			every_state = {
				limit = {
					is_owned_by = SOV
					OR = {
						is_core_of = GEO
						is_core_of = ARM
						is_core_of = AZR
					}
				}
				transfer_state_to = GEO
				add_core_of = GEO
			}
			set_cosmetic_tag = intermarium_geo
		}
		SOV = {
			transfer_state = 826
		}
		TUR = {
			set_autonomy = {
				target = GEO
				autonomy_state = autonomy_supervised_state
			}
		}
	}
	POL = {
		set_autonomy = {
			target = BLR
			autonomy_state = autonomy_supervised_state
		}
	}
	POL = {
		set_autonomy = {
			target = UKR
			autonomy_state = autonomy_supervised_state
		}
	}
	POL = {
		transfer_state = 93
	}
	137 = {
		set_demilitarized_zone = yes
	}
}
SOV_WIN_Great_Patriotic_War = {
	SOV = {
		annex_country = {
			target = TRM
		}
	}
}
SOV_WIN_Great_Patriotic_War_2 = {
	SOV = {
		transfer_state = 188
		transfer_state = 763
		transfer_state = 89
		transfer_state = 91
		transfer_state = 5
		annex_country = {
			target = BLR
		}
		annex_country = {
			target = UKR
		}
		every_state = {
			limit = { 
				is_core_of = POL
			}
			transfer_state_to = SOV
		}
	}
	#POL = {
	#	every_state = {
	#		limit = { 
	#			is_core_of = POL
	#			NOT = {
	#				state = 97
	#				state = 784
	#				state = 96
	#				state = 95
	#				state = 94
	#				state = 93
	#				state = 91
	#				state = 89
	#			}
	#		}
	#		transfer_state_to = POL
	#	}
	#	transfer_state = 5
	#	transfer_state = 63
	#	transfer_state = 68
	#	transfer_state = 66
	#	transfer_state = 67
	#	transfer_state = 726
	#}
	CZE = {
		every_state = {
			limit = { 
				is_core_of = CZE
				NOT = { is_core_of = SLO }
			}
			transfer_state_to = CZE
		}
	}
	AUS = { 
		every_state = {
			limit = { is_core_of = AUS }
			transfer_state_to = AUS
		}
	}
	DDR = {
		every_state = {
			limit = { 
				is_core_of = GER 
				NOT = {
					state = 763
					state = 5
				}
			}
			transfer_state_to = PREV
		}
	}
	LUX = {
		every_state = {
			limit = {
				OR = {
					is_core_of = HOL
					is_core_of = BEL
					is_core_of = LUX
				}
			}
			transfer_state_to = PREV
		}
		set_cosmetic_tag = UNL_UNIFIED
	}
	create_dynamic_country = {
		original_tag = FRA
		copy_tag = FRA
		add_political_power = 100
		every_state = {
			limit = {
				OR ={
					is_core_of = MIL
					state = 28
					state = 976
					state = 971
					state = 29
					state = 14
				}
				NOT = {
					state = 735
					state = 981
				}
			}
			transfer_state_to = PREV
		}
		SOV = { puppet = PREV }
	}
	if = {
		limit = {
			TRM = {
				#has_completed_focus = TRM_war_with_str
				controls_state = 125
			}
		}
	create_dynamic_country = {
		original_tag = ENG
		copy_tag = ENG
		add_political_power = 100
		every_state = {
			limit = {
				OR = {
					is_core_of = KAI
					state = 132
					state = 122
					state = 123
					state = 931
					state = 131
				}
			}
			transfer_state_to = PREV
		}
		set_province_name = {
			id = 6103
			name = BA_London
		}
		set_capital = { state = 126 }
		SOV = { puppet = PREV }
	}
	}
	create_dynamic_country = {
		original_tag = SWE
		copy_tag = SWE
		add_political_power = 100
		set_cosmetic_tag = SCA_UNIFIED
		every_state = {
			limit = {
				is_core_of = RED
			}
			transfer_state_to = PREV
		}
		SOV = { puppet = PREV }
	}
	SOV = {
		puppet = DDR
		puppet = POL
		puppet = CZE
		puppet = AUS
		puppet = LUX
	}
}
VIN_upgrade_resist = {
	if = {
		limit = {
			has_idea = VIN_colonists_resist_0
		}
		swap_ideas = {
			remove_idea = VIN_colonists_resist_0
			add_idea = VIN_colonists_resist_1
		}
	}
	else_if = {
		limit = {
			has_idea = VIN_colonists_resist_1
		}
		swap_ideas = {
			remove_idea = VIN_colonists_resist_1
			add_idea = VIN_colonists_resist_2
		}
	}
	else_if = {
		limit = {
			has_idea = VIN_colonists_resist_2
		}
		swap_ideas = {
			remove_idea = VIN_colonists_resist_2
			add_idea = VIN_colonists_resist_3
		}
	}
	else_if = {
		limit = {
			has_idea = VIN_colonists_resist_3
		}
		FRA={
		country_event = {
			id = FRA_prov_event.34
			days = 3
		}}
	}
}
VIN_downgrade_resist = {
	if = {
		limit = {
			has_idea = VIN_colonists_resist_2
		}
		swap_ideas = {
			remove_idea = VIN_colonists_resist_2
			add_idea = VIN_colonists_resist_1
		}
	}
	else_if = {
		limit = {
			has_idea = VIN_colonists_resist_1
		}
		swap_ideas = {
			remove_idea = VIN_colonists_resist_1
			add_idea = VIN_colonists_resist_0
		}
	}
	else_if = {
		limit = {
			has_idea = VIN_colonists_resist_3
		}
		swap_ideas = {
			remove_idea = VIN_colonists_resist_3
			add_idea = VIN_colonists_resist_2
		}
	}
}
BA_end_of_the_kivotos_alliance = {
	custom_effect_tooltip = BA_end_of_the_kivotos_alliance_tt
	if = { limit = { NOT = { has_global_flag = end_of_the_kivotos_alliance } }
		set_global_flag = end_of_the_kivotos_alliance
		every_country = {
			limit = {
				is_in_faction_with = global.kivotos_alliance_leader
			}
			leave_faction = yes
		}
	}
	news_event = BA_news.88
}